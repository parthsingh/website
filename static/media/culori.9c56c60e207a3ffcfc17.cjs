var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,t)=>{for(var a in t)__defProp(e,a,{get:t[a],enumerable:!0})},__copyProps=(e,t,a,o)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let r of __getOwnPropNames(t))__hasOwnProp.call(e,r)||r===a||__defProp(e,r,{get:()=>t[r],enumerable:!(o=__getOwnPropDesc(t,r))||o.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),src_exports={};__export(src_exports,{a98:()=>a98,average:()=>average,averageAngle:()=>averageAngle,averageNumber:()=>averageNumber,blend:()=>blend_default,blerp:()=>blerp,clampChroma:()=>clampChroma,clampGamut:()=>clampGamut,clampRgb:()=>clampRgb,colorsNamed:()=>named_default,convertA98ToXyz65:()=>convertA98ToXyz65_default,convertCubehelixToRgb:()=>convertCubehelixToRgb_default,convertDlchToLab65:()=>convertDlchToLab65_default,convertHsiToRgb:()=>convertHsiToRgb,convertHslToRgb:()=>convertHslToRgb,convertHsvToRgb:()=>convertHsvToRgb,convertHwbToRgb:()=>convertHwbToRgb,convertJabToJch:()=>convertJabToJch_default,convertJabToRgb:()=>convertJabToRgb_default,convertJabToXyz65:()=>convertJabToXyz65_default,convertJchToJab:()=>convertJchToJab_default,convertLab65ToDlch:()=>convertLab65ToDlch_default,convertLab65ToRgb:()=>convertLab65ToRgb_default,convertLab65ToXyz65:()=>convertLab65ToXyz65_default,convertLabToLch:()=>convertLabToLch_default,convertLabToRgb:()=>convertLabToRgb_default,convertLabToXyz50:()=>convertLabToXyz50_default,convertLchToLab:()=>convertLchToLab_default,convertLchuvToLuv:()=>convertLchuvToLuv_default,convertLrgbToOklab:()=>convertLrgbToOklab_default,convertLrgbToRgb:()=>convertLrgbToRgb_default,convertLuvToLchuv:()=>convertLuvToLchuv_default,convertLuvToXyz50:()=>convertLuvToXyz50_default,convertOkhslToOklab:()=>convertOkhslToOklab,convertOkhsvToOklab:()=>convertOkhsvToOklab,convertOklabToLrgb:()=>convertOklabToLrgb_default,convertOklabToOkhsl:()=>convertOklabToOkhsl,convertOklabToOkhsv:()=>convertOklabToOkhsv,convertOklabToRgb:()=>convertOklabToRgb_default,convertP3ToXyz65:()=>convertP3ToXyz65_default,convertProphotoToXyz50:()=>convertProphotoToXyz50_default,convertRec2020ToXyz65:()=>convertRec2020ToXyz65_default,convertRgbToCubehelix:()=>convertRgbToCubehelix_default,convertRgbToHsi:()=>convertRgbToHsi,convertRgbToHsl:()=>convertRgbToHsl,convertRgbToHsv:()=>convertRgbToHsv,convertRgbToHwb:()=>convertRgbToHwb,convertRgbToJab:()=>convertRgbToJab_default,convertRgbToLab:()=>convertRgbToLab_default,convertRgbToLab65:()=>convertRgbToLab65_default,convertRgbToLrgb:()=>convertRgbToLrgb_default,convertRgbToOklab:()=>convertRgbToOklab_default,convertRgbToXyb:()=>convertRgbToXyb_default,convertRgbToXyz50:()=>convertRgbToXyz50_default,convertRgbToXyz65:()=>convertRgbToXyz65_default,convertRgbToYiq:()=>convertRgbToYiq_default,convertXybToRgb:()=>convertXybToRgb_default,convertXyz50ToLab:()=>convertXyz50ToLab_default,convertXyz50ToLuv:()=>convertXyz50ToLuv_default,convertXyz50ToProphoto:()=>convertXyz50ToProphoto_default,convertXyz50ToRgb:()=>convertXyz50ToRgb_default,convertXyz50ToXyz65:()=>convertXyz50ToXyz65_default,convertXyz65ToA98:()=>convertXyz65ToA98_default,convertXyz65ToJab:()=>convertXyz65ToJab_default,convertXyz65ToLab65:()=>convertXyz65ToLab65_default,convertXyz65ToP3:()=>convertXyz65ToP3_default,convertXyz65ToRec2020:()=>convertXyz65ToRec2020_default,convertXyz65ToRgb:()=>convertXyz65ToRgb_default,convertXyz65ToXyz50:()=>convertXyz65ToXyz50_default,convertYiqToRgb:()=>convertYiqToRgb_default,converter:()=>converter_default,cubehelix:()=>cubehelix,differenceCie76:()=>differenceCie76,differenceCie94:()=>differenceCie94,differenceCiede2000:()=>differenceCiede2000,differenceCmc:()=>differenceCmc,differenceEuclidean:()=>differenceEuclidean,differenceHueChroma:()=>differenceHueChroma,differenceHueNaive:()=>differenceHueNaive,differenceHueSaturation:()=>differenceHueSaturation,differenceHyab:()=>differenceHyab,differenceKotsarenkoRamos:()=>differenceKotsarenkoRamos,displayable:()=>displayable,dlab:()=>dlab,dlch:()=>dlch,easingGamma:()=>gamma_default,easingInOutSine:()=>inOutSine_default,easingMidpoint:()=>midpoint_default,easingSmootherstep:()=>smootherstep_default,easingSmoothstep:()=>easingSmoothstep,easingSmoothstepInverse:()=>easingSmoothstepInverse,filterBrightness:()=>filterBrightness,filterContrast:()=>filterContrast,filterDeficiencyDeuter:()=>filterDeficiencyDeuter,filterDeficiencyProt:()=>filterDeficiencyProt,filterDeficiencyTrit:()=>filterDeficiencyTrit,filterGrayscale:()=>filterGrayscale,filterHueRotate:()=>filterHueRotate,filterInvert:()=>filterInvert,filterSaturate:()=>filterSaturate,filterSepia:()=>filterSepia,fixupAlpha:()=>fixupAlpha,fixupHueDecreasing:()=>fixupHueDecreasing,fixupHueIncreasing:()=>fixupHueIncreasing,fixupHueLonger:()=>fixupHueLonger,fixupHueShorter:()=>fixupHueShorter,formatCss:()=>formatCss,formatHex:()=>formatHex,formatHex8:()=>formatHex8,formatHsl:()=>formatHsl,formatRgb:()=>formatRgb,getMode:()=>getMode,hsi:()=>hsi,hsl:()=>hsl,hsv:()=>hsv,hwb:()=>hwb,inGamut:()=>inGamut,interpolate:()=>interpolate,interpolateWith:()=>interpolateWith,interpolateWithPremultipliedAlpha:()=>interpolateWithPremultipliedAlpha,interpolatorLinear:()=>interpolatorLinear,interpolatorPiecewise:()=>interpolatorPiecewise,interpolatorSplineBasis:()=>interpolatorSplineBasis,interpolatorSplineBasisClosed:()=>interpolatorSplineBasisClosed,interpolatorSplineMonotone:()=>interpolatorSplineMonotone,interpolatorSplineMonotone2:()=>interpolatorSplineMonotone2,interpolatorSplineMonotoneClosed:()=>interpolatorSplineMonotoneClosed,interpolatorSplineNatural:()=>interpolatorSplineNatural,interpolatorSplineNaturalClosed:()=>interpolatorSplineNaturalClosed,jab:()=>jab,jch:()=>jch,lab:()=>lab,lab65:()=>lab65,lch:()=>lch,lch65:()=>lch65,lchuv:()=>lchuv,lerp:()=>lerp,lrgb:()=>lrgb,luv:()=>luv,mapAlphaDivide:()=>mapAlphaDivide,mapAlphaMultiply:()=>mapAlphaMultiply,mapTransferGamma:()=>mapTransferGamma,mapTransferLinear:()=>mapTransferLinear,mapper:()=>mapper,modeA98:()=>definition_default2,modeCubehelix:()=>definition_default3,modeDlab:()=>definition_default4,modeDlch:()=>definition_default5,modeHsi:()=>definition_default6,modeHsl:()=>definition_default7,modeHsv:()=>definition_default8,modeHwb:()=>definition_default9,modeJab:()=>definition_default10,modeJch:()=>definition_default11,modeLab:()=>definition_default12,modeLab65:()=>definition_default13,modeLch:()=>definition_default14,modeLch65:()=>definition_default15,modeLchuv:()=>definition_default16,modeLrgb:()=>definition_default17,modeLuv:()=>definition_default18,modeOkhsl:()=>modeOkhsl_default,modeOkhsv:()=>modeOkhsv_default,modeOklab:()=>definition_default19,modeOklch:()=>definition_default20,modeP3:()=>definition_default21,modeProphoto:()=>definition_default22,modeRec2020:()=>definition_default23,modeRgb:()=>definition_default,modeXyb:()=>definition_default24,modeXyz50:()=>definition_default25,modeXyz65:()=>definition_default26,modeYiq:()=>definition_default27,nearest:()=>nearest_default,okhsl:()=>okhsl,okhsv:()=>okhsv,oklab:()=>oklab,oklch:()=>oklch,p3:()=>p3,parse:()=>parse_default,parseHex:()=>parseHex_default,parseHsl:()=>parseHsl_default,parseHslLegacy:()=>parseHslLegacy_default,parseHwb:()=>parseHwb_default,parseLab:()=>parseLab_default,parseLch:()=>parseLch_default,parseNamed:()=>parseNamed_default,parseOklab:()=>parseOklab_default,parseOklch:()=>parseOklch_default,parseRgb:()=>parseRgb_default,parseRgbLegacy:()=>parseRgbLegacy_default,parseTransparent:()=>parseTransparent_default,prophoto:()=>prophoto,random:()=>random_default,rec2020:()=>rec2020,removeParser:()=>removeParser,rgb:()=>rgb3,round:()=>round_default,samples:()=>samples_default,serializeHex:()=>serializeHex,serializeHex8:()=>serializeHex8,serializeHsl:()=>serializeHsl,serializeRgb:()=>serializeRgb,toGamut:()=>toGamut,trilerp:()=>trilerp,unlerp:()=>unlerp,useMode:()=>useMode,useParser:()=>useParser,wcagContrast:()=>contrast,wcagLuminance:()=>luminance,xyb:()=>xyb,xyz50:()=>xyz50,xyz65:()=>xyz65,yiq:()=>yiq}),module.exports=__toCommonJS(src_exports);var parseNumber=(e,t)=>{if("number"===typeof e)return 3===t?{mode:"rgb",r:(e>>8&15|e>>4&240)/255,g:(e>>4&15|240&e)/255,b:(15&e|e<<4&240)/255}:4===t?{mode:"rgb",r:(e>>12&15|e>>8&240)/255,g:(e>>8&15|e>>4&240)/255,b:(e>>4&15|240&e)/255,alpha:(15&e|e<<4&240)/255}:6===t?{mode:"rgb",r:(e>>16&255)/255,g:(e>>8&255)/255,b:(255&e)/255}:8===t?{mode:"rgb",r:(e>>24&255)/255,g:(e>>16&255)/255,b:(e>>8&255)/255,alpha:(255&e)/255}:void 0},parseNumber_default=parseNumber,named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},named_default=named,parseNamed=e=>parseNumber_default(named_default[e.toLowerCase()],6),parseNamed_default=parseNamed,hex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,parseHex=e=>{let t;return(t=e.match(hex))?parseNumber_default(parseInt(t[1],16),t[1].length):void 0},parseHex_default=parseHex,num="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",num_none=`(?:${num}|none)`,per=`${num}%`,per_none=`(?:${num}%|none)`,num_per=`(?:${num}%|${num})`,num_per_none=`(?:${num}%|${num}|none)`,hue=`(?:${num}(deg|grad|rad|turn)|${num})`,hue_none=`(?:${num}(deg|grad|rad|turn)|${num}|none)`,c="\\s*,\\s*",rx_num_per_none=new RegExp("^"+num_per_none+"$"),rgb_num_old=new RegExp(`^rgba?\\(\\s*${num}${c}${num}${c}${num}\\s*(?:,\\s*${num_per}\\s*)?\\)$`),rgb_per_old=new RegExp(`^rgba?\\(\\s*${per}${c}${per}${c}${per}\\s*(?:,\\s*${num_per}\\s*)?\\)$`),parseRgbLegacy=e=>{let t,a={mode:"rgb"};if(t=e.match(rgb_num_old))void 0!==t[1]&&(a.r=t[1]/255),void 0!==t[2]&&(a.g=t[2]/255),void 0!==t[3]&&(a.b=t[3]/255);else{if(!(t=e.match(rgb_per_old)))return;void 0!==t[1]&&(a.r=t[1]/100),void 0!==t[2]&&(a.g=t[2]/100),void 0!==t[3]&&(a.b=t[3]/100)}return void 0!==t[4]?a.alpha=t[4]/100:void 0!==t[5]&&(a.alpha=+t[5]),a},parseRgbLegacy_default=parseRgbLegacy,prepare=(e,t)=>void 0===e?void 0:"object"!==typeof e?parse_default(e):void 0!==e.mode?e:t?{...e,mode:t}:void 0,prepare_default=prepare,converter=(e="rgb")=>t=>void 0!==(t=prepare_default(t,e))?t.mode===e?t:converters[t.mode][e]?converters[t.mode][e](t):"rgb"===e?converters[t.mode].rgb(t):converters.rgb[e](converters[t.mode].rgb(t)):void 0,converter_default=converter,converters={},modes={},parsers=[],colorProfiles={},identity=e=>e,useMode=e=>(converters[e.mode]={...converters[e.mode],...e.toMode},Object.keys(e.fromMode||{}).forEach((t=>{converters[t]||(converters[t]={}),converters[t][e.mode]=e.fromMode[t]})),e.ranges||(e.ranges={}),e.difference||(e.difference={}),e.channels.forEach((t=>{if(void 0===e.ranges[t]&&(e.ranges[t]=[0,1]),!e.interpolate[t])throw new Error(`Missing interpolator for: ${t}`);"function"===typeof e.interpolate[t]&&(e.interpolate[t]={use:e.interpolate[t]}),e.interpolate[t].fixup||(e.interpolate[t].fixup=identity)})),modes[e.mode]=e,(e.parse||[]).forEach((t=>{useParser(t,e.mode)})),converter_default(e.mode)),getMode=e=>modes[e],useParser=(e,t)=>{if("string"===typeof e){if(!t)throw new Error("'mode' required when 'parser' is a string");colorProfiles[e]=t}else"function"===typeof e&&parsers.indexOf(e)<0&&parsers.push(e)},removeParser=e=>{if("string"===typeof e)delete colorProfiles[e];else if("function"===typeof e){const t=parsers.indexOf(e);t>0&&parsers.splice(t,1)}},IdentStartCodePoint=/[^\x00-\x7F]|[a-zA-Z_]/,IdentCodePoint=/[^\x00-\x7F]|[-\w]/,Tok={Function:"function",Ident:"ident",Number:"number",Percentage:"percentage",ParenClose:")",None:"none",Hue:"hue",Alpha:"alpha"},_i=0;function is_num(e){let t=e[_i],a=e[_i+1];return"-"===t||"+"===t?/\d/.test(a)||"."===a&&/\d/.test(e[_i+2]):/\d/.test("."===t?a:t)}function is_ident(e){if(_i>=e.length)return!1;let t=e[_i];if(IdentStartCodePoint.test(t))return!0;if("-"===t){if(e.length-_i<2)return!1;let t=e[_i+1];return!("-"!==t&&!IdentStartCodePoint.test(t))}return!1}var huenits={deg:1,rad:180/Math.PI,grad:.9,turn:360};function num2(e){let t="";if("-"!==e[_i]&&"+"!==e[_i]||(t+=e[_i++]),t+=digits(e),"."===e[_i]&&/\d/.test(e[_i+1])&&(t+=e[_i++]+digits(e)),"e"!==e[_i]&&"E"!==e[_i]||("-"!==e[_i+1]&&"+"!==e[_i+1]||!/\d/.test(e[_i+2])?/\d/.test(e[_i+1])&&(t+=e[_i++]+digits(e)):t+=e[_i++]+e[_i++]+digits(e)),is_ident(e)){let a=ident(e);return"deg"===a||"rad"===a||"turn"===a||"grad"===a?{type:Tok.Hue,value:t*huenits[a]}:void 0}return"%"===e[_i]?(_i++,{type:Tok.Percentage,value:+t}):{type:Tok.Number,value:+t}}function digits(e){let t="";for(;/\d/.test(e[_i]);)t+=e[_i++];return t}function ident(e){let t="";for(;_i<e.length&&IdentCodePoint.test(e[_i]);)t+=e[_i++];return t}function identlike(e){let t=ident(e);return"("===e[_i]?(_i++,{type:Tok.Function,value:t}):"none"===t?{type:Tok.None,value:void 0}:{type:Tok.Ident,value:t}}function tokenize(e=""){let t,a=e.trim(),o=[];for(_i=0;_i<a.length;)if(t=a[_i++],"\n"!==t&&"\t"!==t&&" "!==t){if(","===t)return;if(")"!==t){if("+"===t){if(_i--,is_num(a)){o.push(num2(a));continue}return}if("-"===t){if(_i--,is_num(a)){o.push(num2(a));continue}if(is_ident(a)){o.push({type:Tok.Ident,value:ident(a)});continue}return}if("."===t){if(_i--,is_num(a)){o.push(num2(a));continue}return}if("/"===t){for(;_i<a.length&&("\n"===a[_i]||"\t"===a[_i]||" "===a[_i]);)_i++;let e;if(is_num(a)&&(e=num2(a),e.type!==Tok.Hue)){o.push({type:Tok.Alpha,value:e});continue}if(is_ident(a)&&"none"===ident(a)){o.push({type:Tok.Alpha,value:{type:Tok.None,value:void 0}});continue}return}if(/\d/.test(t))_i--,o.push(num2(a));else{if(!IdentStartCodePoint.test(t))return;_i--,o.push(identlike(a))}}else o.push({type:Tok.ParenClose})}else for(;_i<a.length&&("\n"===a[_i]||"\t"===a[_i]||" "===a[_i]);)_i++;return o}function parseColorSyntax(e){e._i=0;let t=e[e._i++];if(!t||t.type!==Tok.Function||"color"!==t.value)return;if(t=e[e._i++],t.type!==Tok.Ident)return;const a=colorProfiles[t.value];if(!a)return;const o={mode:a},r=consumeCoords(e,!1);if(!r)return;const n=getMode(a).channels;for(let l,i=0;i<n.length;i++)l=r[i],l.type!==Tok.None&&(o[n[i]]=l.type===Tok.Number?l.value:l.value/100);return o}function consumeCoords(e,t){const a=[];let o;for(;e._i<e.length;)if(o=e[e._i++],o.type===Tok.None||o.type===Tok.Number||o.type===Tok.Alpha||o.type===Tok.Percentage||t&&o.type===Tok.Hue)a.push(o);else{if(o.type!==Tok.ParenClose)return;if(e._i<e.length)return}if(!(a.length<3||a.length>4)){if(4===a.length){if(a[3].type!==Tok.Alpha)return;a[3]=a[3].value}return 3===a.length&&a.push({type:Tok.None,value:void 0}),a.every((e=>e.type!==Tok.Alpha))?a:void 0}}function parseModernSyntax(e,t){e._i=0;let a=e[e._i++];if(!a||a.type!==Tok.Function)return;let o=consumeCoords(e,t);return o?(o.unshift(a.value),o):void 0}var parse=e=>{if("string"!==typeof e)return;const t=tokenize(e),a=t?parseModernSyntax(t,!0):void 0;let o,r=0,n=parsers.length;for(;r<n;)if(void 0!==(o=parsers[r++](e,a)))return o;return t?parseColorSyntax(t):void 0},parse_default=parse;function parseRgb(e,t){if(!t||"rgb"!==t[0]&&"rgba"!==t[0])return;const a={mode:"rgb"},[,o,r,n,l]=t;return o.type!==Tok.Hue&&r.type!==Tok.Hue&&n.type!==Tok.Hue?(o.type!==Tok.None&&(a.r=o.type===Tok.Number?o.value/255:o.value/100),r.type!==Tok.None&&(a.g=r.type===Tok.Number?r.value/255:r.value/100),n.type!==Tok.None&&(a.b=n.type===Tok.Number?n.value/255:n.value/100),l.type!==Tok.None&&(a.alpha=l.type===Tok.Number?l.value:l.value/100),a):void 0}var parseRgb_default=parseRgb,parseTransparent=e=>"transparent"===e?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,parseTransparent_default=parseTransparent,lerp=(e,t,a)=>e+a*(t-e),unlerp=(e,t,a)=>(a-e)/(t-e),blerp=(e,t,a,o,r,n)=>lerp(lerp(e,t,r),lerp(a,o,r),n),trilerp=(e,t,a,o,r,n,l,i,u,d,f)=>lerp(blerp(e,t,a,o,u,d),blerp(r,n,l,i,u,d),f),get_classes=e=>{let t=[];for(let a=0;a<e.length-1;a++){let o=e[a],r=e[a+1];void 0===o&&void 0===r?t.push(void 0):void 0!==o&&void 0!==r?t.push([o,r]):t.push(void 0!==o?[o,o]:[r,r])}return t},interpolatorPiecewise=e=>t=>{let a=get_classes(t);return t=>{let o=t*a.length,r=t>=1?a.length-1:Math.max(Math.floor(o),0),n=a[r];return void 0===n?void 0:e(n[0],n[1],o-r)}},interpolatorLinear=interpolatorPiecewise(lerp),fixupAlpha=e=>{let t=!1,a=e.map((e=>void 0!==e?(t=!0,e):1));return t?a:e},definition={mode:"rgb",channels:["r","g","b","alpha"],parse:[parseRgb_default,parseHex_default,parseRgbLegacy_default,parseNamed_default,parseTransparent_default,"srgb"],serialize:"srgb",interpolate:{r:interpolatorLinear,g:interpolatorLinear,b:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}},gamut:!0},definition_default=definition,linearize=e=>Math.pow(Math.abs(e),563/256)*Math.sign(e),convertA98ToXyz65=e=>{let t=linearize(e.r),a=linearize(e.g),o=linearize(e.b),r={mode:"xyz65",x:.5766690429101305*t+.1855582379065463*a+.1882286462349947*o,y:.297344975250536*t+.6273635662554661*a+.0752914584939979*o,z:.0270313613864123*t+.0706888525358272*a+.9913375368376386*o};return void 0!==e.alpha&&(r.alpha=e.alpha),r},convertA98ToXyz65_default=convertA98ToXyz65,gamma=e=>Math.pow(Math.abs(e),256/563)*Math.sign(e),convertXyz65ToA98=({x:e,y:t,z:a,alpha:o})=>{let r={mode:"a98",r:gamma(2.0415879038107465*e-.5650069742788597*t-.3447313507783297*a),g:gamma(-.9692436362808798*e+1.8759675015077206*t+.0415550574071756*a),b:gamma(.0134442806320312*e-.1183623922310184*t+1.0151749943912058*a)};return void 0!==o&&(r.alpha=o),r},convertXyz65ToA98_default=convertXyz65ToA98,fn=e=>{const t=Math.abs(e);return t<=.04045?e/12.92:(Math.sign(e)||1)*Math.pow((t+.055)/1.055,2.4)},convertRgbToLrgb=({r:e,g:t,b:a,alpha:o})=>{let r={mode:"lrgb",r:fn(e),g:fn(t),b:fn(a)};return void 0!==o&&(r.alpha=o),r},convertRgbToLrgb_default=convertRgbToLrgb,convertRgbToXyz65=e=>{let{r:t,g:a,b:o,alpha:r}=convertRgbToLrgb_default(e),n={mode:"xyz65",x:.4123907992659593*t+.357584339383878*a+.1804807884018343*o,y:.2126390058715102*t+.715168678767756*a+.0721923153607337*o,z:.0193308187155918*t+.119194779794626*a+.9505321522496607*o};return void 0!==r&&(n.alpha=r),n},convertRgbToXyz65_default=convertRgbToXyz65,fn2=e=>{const t=Math.abs(e);return t>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(t,1/2.4)-.055):12.92*e},convertLrgbToRgb=({r:e,g:t,b:a,alpha:o},r="rgb")=>{let n={mode:r,r:fn2(e),g:fn2(t),b:fn2(a)};return void 0!==o&&(n.alpha=o),n},convertLrgbToRgb_default=convertLrgbToRgb,convertXyz65ToRgb=({x:e,y:t,z:a,alpha:o})=>{let r=convertLrgbToRgb_default({r:3.2409699419045226*e-1.537383177570094*t-.4986107602930034*a,g:-.9692436362808796*e+1.8759675015077204*t+.0415550574071756*a,b:.0556300796969936*e-.2039769588889765*t+1.0569715142428784*a});return void 0!==o&&(r.alpha=o),r},convertXyz65ToRgb_default=convertXyz65ToRgb,definition2={...definition_default,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:e=>convertXyz65ToA98_default(convertRgbToXyz65_default(e)),xyz65:convertXyz65ToA98_default},toMode:{rgb:e=>convertXyz65ToRgb_default(convertA98ToXyz65_default(e)),xyz65:convertA98ToXyz65_default}},definition_default2=definition2,normalizeHue=e=>(e%=360)<0?e+360:e,normalizeHue_default=normalizeHue,hue2=(e,t)=>e.map(((a,o,r)=>{if(void 0===a)return a;let n=normalizeHue_default(a);return 0===o||void 0===e[o-1]?n:t(n-normalizeHue_default(r[o-1]))})).reduce(((e,t)=>e.length&&void 0!==t&&void 0!==e[e.length-1]?(e.push(t+e[e.length-1]),e):(e.push(t),e)),[]),fixupHueShorter=e=>hue2(e,(e=>Math.abs(e)<=180?e:e-360*Math.sign(e))),fixupHueLonger=e=>hue2(e,(e=>Math.abs(e)>=180||0===e?e:e-360*Math.sign(e))),fixupHueIncreasing=e=>hue2(e,(e=>e>=0?e:e+360)),fixupHueDecreasing=e=>hue2(e,(e=>e<=0?e:e-360)),M=[-.14861,1.78277,-.29227,-.90649,1.97294,0],degToRad=Math.PI/180,radToDeg=180/Math.PI,DE=M[3]*M[4],BE=M[1]*M[4],BCAD=M[1]*M[2]-M[0]*M[3],convertRgbToCubehelix=({r:e,g:t,b:a,alpha:o})=>{let r=(BCAD*a+e*DE-t*BE)/(BCAD+DE-BE),n=a-r,l=(M[4]*(t-r)-M[2]*n)/M[3],i={mode:"cubehelix",l:r,s:0===r||1===r?void 0:Math.sqrt(n*n+l*l)/(M[4]*r*(1-r))};return i.s&&(i.h=Math.atan2(l,n)*radToDeg-120),void 0!==o&&(i.alpha=o),i},convertRgbToCubehelix_default=convertRgbToCubehelix,convertCubehelixToRgb=({h:e,s:t,l:a,alpha:o})=>{let r={mode:"rgb"};e=(void 0===e?0:e+120)*degToRad;let n=void 0===t?0:t*a*(1-a),l=Math.cos(e),i=Math.sin(e);return r.r=a+n*(M[0]*l+M[1]*i),r.g=a+n*(M[2]*l+M[3]*i),r.b=a+n*(M[4]*l+M[5]*i),void 0!==o&&(r.alpha=o),r},convertCubehelixToRgb_default=convertCubehelixToRgb,differenceHueSaturation=(e,t)=>{if(void 0===e.h||void 0===t.h||!e.s||!t.s)return 0;let a=normalizeHue_default(e.h),o=normalizeHue_default(t.h),r=Math.sin((o-a+360)/2*Math.PI/180);return 2*Math.sqrt(e.s*t.s)*r},differenceHueNaive=(e,t)=>{if(void 0===e.h||void 0===t.h)return 0;let a=normalizeHue_default(e.h),o=normalizeHue_default(t.h);return Math.abs(o-a)>180?a-(o-360*Math.sign(o-a)):o-a},differenceHueChroma=(e,t)=>{if(void 0===e.h||void 0===t.h||!e.c||!t.c)return 0;let a=normalizeHue_default(e.h),o=normalizeHue_default(t.h),r=Math.sin((o-a+360)/2*Math.PI/180);return 2*Math.sqrt(e.c*t.c)*r},differenceEuclidean=(e="rgb",t=[1,1,1,0])=>{let a=getMode(e),o=a.channels,r=a.difference,n=converter_default(e);return(e,a)=>{let l=n(e),i=n(a);return Math.sqrt(o.reduce(((e,a,o)=>{let n=r[a]?r[a](l,i):l[a]-i[a];return e+(t[o]||0)*Math.pow(isNaN(n)?0:n,2)}),0))}},differenceCie76=()=>differenceEuclidean("lab65"),differenceCie94=(e=1,t=.045,a=.015)=>{let o=converter_default("lab65");return(r,n)=>{let l=o(r),i=o(n),u=l.l,d=l.a,f=l.b,c=Math.sqrt(d*d+f*f),h=i.l,p=i.a,b=i.b,s=Math.sqrt(p*p+b*b),v=Math.pow(u-h,2),g=Math.pow(c-s,2),m=Math.pow(d-p,2)+Math.pow(f-b,2)-g;return Math.sqrt(v/Math.pow(e,2)+g/Math.pow(1+t*c,2)+m/Math.pow(1+a*c,2))}},differenceCiede2000=(e=1,t=1,a=1)=>{let o=converter_default("lab65");return(r,n)=>{let l=o(r),i=o(n),u=l.l,d=l.a,f=l.b,c=Math.sqrt(d*d+f*f),h=i.l,p=i.a,b=i.b,s=(c+Math.sqrt(p*p+b*b))/2,v=.5*(1-Math.sqrt(Math.pow(s,7)/(Math.pow(s,7)+Math.pow(25,7)))),g=d*(1+v),m=p*(1+v),_=Math.sqrt(g*g+f*f),T=Math.sqrt(m*m+b*b),y=Math.abs(g)+Math.abs(f)===0?0:Math.atan2(f,g);y+=2*(y<0)*Math.PI;let M=Math.abs(m)+Math.abs(b)===0?0:Math.atan2(b,m);M+=2*(M<0)*Math.PI;let z=h-u,L=T-_,k=_*T===0?0:M-y;k-=2*(k>Math.PI)*Math.PI,k+=2*(k<-Math.PI)*Math.PI;let x,R=2*Math.sqrt(_*T)*Math.sin(k/2),X=(u+h)/2,H=(_+T)/2;_*T===0?x=y+M:(x=(y+M)/2,x-=(Math.abs(y-M)>Math.PI)*Math.PI,x+=2*(x<0)*Math.PI);let w=Math.pow(X-50,2),P=1-.17*Math.cos(x-Math.PI/6)+.24*Math.cos(2*x)+.32*Math.cos(3*x+Math.PI/30)-.2*Math.cos(4*x-63*Math.PI/180),O=1+.015*w/Math.sqrt(20+w),N=1+.045*H,D=1+.015*H*P,S=30*Math.PI/180*Math.exp(-1*Math.pow((180/Math.PI*x-275)/25,2)),$=2*Math.sqrt(Math.pow(H,7)/(Math.pow(H,7)+Math.pow(25,7))),C=-1*Math.sin(2*S)*$;return Math.sqrt(Math.pow(z/(e*O),2)+Math.pow(L/(t*N),2)+Math.pow(R/(a*D),2)+C*L/(t*N)*R/(a*D))}},differenceCmc=(e=1,t=1)=>{let a=converter_default("lab65");return(o,r)=>{let n=a(o),l=n.l,i=n.a,u=n.b,d=Math.sqrt(i*i+u*u),f=Math.atan2(u,i);f+=2*Math.PI*(f<0);let c=a(r),h=c.l,p=c.a,b=c.b,s=Math.sqrt(p*p+b*b),v=Math.pow(l-h,2),g=Math.pow(d-s,2),m=Math.pow(i-p,2)+Math.pow(u-b,2)-g,_=Math.sqrt(Math.pow(d,4)/(Math.pow(d,4)+1900)),T=l<16?.511:.040975*l/(1+.01765*l),y=.0638*d/(1+.0131*d)+.638,M=y*(_*(f>=164/180*Math.PI&&f<=345/180*Math.PI?.56+Math.abs(.2*Math.cos(f+168/180*Math.PI)):.36+Math.abs(.4*Math.cos(f+35/180*Math.PI)))+1-_);return Math.sqrt(v/Math.pow(e*T,2)+g/Math.pow(t*y,2)+m/Math.pow(M,2))}},differenceHyab=()=>{let e=converter_default("lab65");return(t,a)=>{let o=e(t),r=e(a),n=o.l-r.l,l=o.a-r.a,i=o.b-r.b;return Math.abs(n)+Math.sqrt(l*l+i*i)}},differenceKotsarenkoRamos=()=>differenceEuclidean("yiq",[.5053,.299,.1957]),averageAngle=e=>{let t=e.reduce(((e,t)=>{if(void 0!==t){let a=t*Math.PI/180;e.sin+=Math.sin(a),e.cos+=Math.cos(a)}return e}),{sin:0,cos:0});return 180*Math.atan2(t.sin,t.cos)/Math.PI},averageNumber=e=>{let t=e.filter((e=>void 0!==e));return t.length?t.reduce(((e,t)=>e+t),0)/t.length:void 0},isfn=e=>"function"===typeof e;function average(e,t="rgb",a){let o=getMode(t),r=e.map(converter_default(t));return o.channels.reduce(((e,t)=>{let n=r.map((e=>e[t])).filter((e=>void 0!==e));if(n.length){let r;r=isfn(a)?a:a&&isfn(a[t])?a[t]:o.average&&isfn(o.average[t])?o.average[t]:averageNumber,e[t]=r(n,t)}return e}),{mode:t})}var definition3={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:convertRgbToCubehelix_default},toMode:{rgb:convertCubehelixToRgb_default},interpolate:{h:{use:interpolatorLinear,fixup:fixupHueShorter},s:interpolatorLinear,l:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}},difference:{h:differenceHueSaturation},average:{h:averageAngle}},definition_default3=definition3,convertLabToLch=({l:e,a:t,b:a,alpha:o},r="lch")=>{let n=Math.sqrt(t*t+a*a),l={mode:r,l:e,c:n};return n&&(l.h=normalizeHue_default(180*Math.atan2(a,t)/Math.PI)),void 0!==o&&(l.alpha=o),l},convertLabToLch_default=convertLabToLch,convertLchToLab=({l:e,c:t,h:a,alpha:o},r="lab")=>{let n={mode:r,l:e,a:t?t*Math.cos(a/180*Math.PI):0,b:t?t*Math.sin(a/180*Math.PI):0};return void 0!==o&&(n.alpha=o),n},convertLchToLab_default=convertLchToLab,k=Math.pow(29,3)/Math.pow(3,3),e=Math.pow(6,3)/Math.pow(29,3),D50={X:.3457/.3585,Y:1,Z:.2958/.3585},D65={X:.3127/.329,Y:1,Z:.3583/.329},k2=Math.pow(29,3)/Math.pow(3,3),e2=Math.pow(6,3)/Math.pow(29,3),fn3=t=>Math.pow(t,3)>e?Math.pow(t,3):(116*t-16)/k,convertLab65ToXyz65=({l:e,a:t,b:a,alpha:o})=>{let r=(e+16)/116,n=r-a/200,l={mode:"xyz65",x:fn3(t/500+r)*D65.X,y:fn3(r)*D65.Y,z:fn3(n)*D65.Z};return void 0!==o&&(l.alpha=o),l},convertLab65ToXyz65_default=convertLab65ToXyz65,convertLab65ToRgb=e=>convertXyz65ToRgb_default(convertLab65ToXyz65_default(e)),convertLab65ToRgb_default=convertLab65ToRgb,f=t=>t>e?Math.cbrt(t):(k*t+16)/116,convertXyz65ToLab65=({x:e,y:t,z:a,alpha:o})=>{let r=f(e/D65.X),n=f(t/D65.Y),l={mode:"lab65",l:116*n-16,a:500*(r-n),b:200*(n-f(a/D65.Z))};return void 0!==o&&(l.alpha=o),l},convertXyz65ToLab65_default=convertXyz65ToLab65,convertRgbToLab65=e=>{let t=convertXyz65ToLab65_default(convertRgbToXyz65_default(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},convertRgbToLab65_default=convertRgbToLab65,kE=1,kCH=1,\u03b8=26/180*Math.PI,cos\u03b8=Math.cos(\u03b8),sin\u03b8=Math.sin(\u03b8),factor=100/Math.log(1.39),convertDlchToLab65=({l:e,c:t,h:a,alpha:o})=>{let r={mode:"lab65",l:(Math.exp(e*kE/factor)-1)/.0039};if(void 0===a)r.a=r.b=0;else{let e=(Math.exp(.0435*t*kCH*kE)-1)/.075,o=e*Math.cos(a/180*Math.PI-\u03b8),n=e*Math.sin(a/180*Math.PI-\u03b8);r.a=o*cos\u03b8-n/.83*sin\u03b8,r.b=o*sin\u03b8+n/.83*cos\u03b8}return void 0!==o&&(r.alpha=o),r},convertDlchToLab65_default=convertDlchToLab65,convertLab65ToDlch=({l:e,a:t,b:a,alpha:o})=>{let r=t*cos\u03b8+a*sin\u03b8,n=.83*(a*cos\u03b8-t*sin\u03b8),l=Math.sqrt(r*r+n*n),i={mode:"dlch",l:factor/kE*Math.log(1+.0039*e),c:Math.log(1+.075*l)/(.0435*kCH*kE)};return i.c&&(i.h=normalizeHue_default((Math.atan2(n,r)+\u03b8)/Math.PI*180)),void 0!==o&&(i.alpha=o),i},convertLab65ToDlch_default=convertLab65ToDlch,convertDlabToLab65=e=>convertDlchToLab65_default(convertLabToLch_default(e,"dlch")),convertLab65ToDlab=e=>convertLchToLab_default(convertLab65ToDlch_default(e),"dlab"),definition4={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:convertDlabToLab65,rgb:e=>convertLab65ToRgb_default(convertDlabToLab65(e))},fromMode:{lab65:convertLab65ToDlab,rgb:e=>convertLab65ToDlab(convertRgbToLab65_default(e))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:interpolatorLinear,a:interpolatorLinear,b:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}}},definition_default4=definition4,definition5={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:convertDlchToLab65_default,dlab:e=>convertLchToLab_default(e,"dlab"),rgb:e=>convertLab65ToRgb_default(convertDlchToLab65_default(e))},fromMode:{lab65:convertLab65ToDlch_default,dlab:e=>convertLabToLch_default(e,"dlch"),rgb:e=>convertLab65ToDlch_default(convertRgbToLab65_default(e))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:interpolatorLinear,c:interpolatorLinear,h:{use:interpolatorLinear,fixup:fixupHueShorter},alpha:{use:interpolatorLinear,fixup:fixupAlpha}},difference:{h:differenceHueChroma},average:{h:averageAngle}},definition_default5=definition5;function convertHsiToRgb({h:e,s:t,i:a,alpha:o}){e=normalizeHue_default(e);let r,n=Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:r={r:a*(1+t*(3/(2-n)-1)),g:a*(1+t*(3*(1-n)/(2-n)-1)),b:a*(1-t)};break;case 1:r={r:a*(1+t*(3*(1-n)/(2-n)-1)),g:a*(1+t*(3/(2-n)-1)),b:a*(1-t)};break;case 2:r={r:a*(1-t),g:a*(1+t*(3/(2-n)-1)),b:a*(1+t*(3*(1-n)/(2-n)-1))};break;case 3:r={r:a*(1-t),g:a*(1+t*(3*(1-n)/(2-n)-1)),b:a*(1+t*(3/(2-n)-1))};break;case 4:r={r:a*(1+t*(3*(1-n)/(2-n)-1)),g:a*(1-t),b:a*(1+t*(3/(2-n)-1))};break;case 5:r={r:a*(1+t*(3/(2-n)-1)),g:a*(1-t),b:a*(1+t*(3*(1-n)/(2-n)-1))};break;default:r={r:a*(1-t),g:a*(1-t),b:a*(1-t)}}return r.mode="rgb",void 0!==o&&(r.alpha=o),r}function convertRgbToHsi({r:e,g:t,b:a,alpha:o}){let r=Math.max(e,t,a),n=Math.min(e,t,a),l={mode:"hsi",s:e+t+a===0?0:1-3*n/(e+t+a),i:(e+t+a)/3};return r-n!==0&&(l.h=60*(r===e?(t-a)/(r-n)+6*(t<a):r===t?(a-e)/(r-n)+2:(e-t)/(r-n)+4)),void 0!==o&&(l.alpha=o),l}var definition6={mode:"hsi",toMode:{rgb:convertHsiToRgb},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:convertRgbToHsi},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:interpolatorLinear,fixup:fixupHueShorter},s:interpolatorLinear,i:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}},difference:{h:differenceHueSaturation},average:{h:averageAngle}},definition_default6=definition6;function convertHslToRgb({h:e,s:t,l:a,alpha:o}){e=normalizeHue_default(e);let r,n=a+t*(a<.5?a:1-a),l=n-2*(n-a)*Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:r={r:n,g:l,b:2*a-n};break;case 1:r={r:l,g:n,b:2*a-n};break;case 2:r={r:2*a-n,g:n,b:l};break;case 3:r={r:2*a-n,g:l,b:n};break;case 4:r={r:l,g:2*a-n,b:n};break;case 5:r={r:n,g:2*a-n,b:l};break;default:r={r:2*a-n,g:2*a-n,b:2*a-n}}return r.mode="rgb",void 0!==o&&(r.alpha=o),r}function convertRgbToHsl({r:e,g:t,b:a,alpha:o}){let r=Math.max(e,t,a),n=Math.min(e,t,a),l={mode:"hsl",s:r===n?0:(r-n)/(1-Math.abs(r+n-1)),l:.5*(r+n)};return r-n!==0&&(l.h=60*(r===e?(t-a)/(r-n)+6*(t<a):r===t?(a-e)/(r-n)+2:(e-t)/(r-n)+4)),void 0!==o&&(l.alpha=o),l}var hueToDeg=(e,t)=>{switch(t){case"deg":return+e;case"rad":return e/Math.PI*180;case"grad":return e/10*9;case"turn":return 360*e}},hue_default=hueToDeg,hsl_old=new RegExp(`^hsla?\\(\\s*${hue}${c}${per}${c}${per}\\s*(?:,\\s*${num_per}\\s*)?\\)$`),parseHslLegacy=e=>{let t=e.match(hsl_old);if(!t)return;let a={mode:"hsl"};return void 0!==t[3]?a.h=+t[3]:void 0!==t[1]&&void 0!==t[2]&&(a.h=hue_default(t[1],t[2])),void 0!==t[4]&&(a.s=Math.min(Math.max(0,t[4]/100),1)),void 0!==t[5]&&(a.l=Math.min(Math.max(0,t[5]/100),1)),void 0!==t[6]?a.alpha=t[6]/100:void 0!==t[7]&&(a.alpha=+t[7]),a},parseHslLegacy_default=parseHslLegacy;function parseHsl(e,t){if(!t||"hsl"!==t[0]&&"hsla"!==t[0])return;const a={mode:"hsl"},[,o,r,n,l]=t;if(o.type!==Tok.None){if(o.type===Tok.Percentage)return;a.h=o.value}if(r.type!==Tok.None){if(r.type===Tok.Hue)return;a.s=r.type===Tok.Number?r.value:r.value/100}if(n.type!==Tok.None){if(n.type===Tok.Hue)return;a.l=n.type===Tok.Number?n.value:n.value/100}return l.type!==Tok.None&&(a.alpha=l.type===Tok.Number?l.value:l.value/100),a}var parseHsl_default=parseHsl,definition7={mode:"hsl",toMode:{rgb:convertHslToRgb},fromMode:{rgb:convertRgbToHsl},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[parseHsl_default,parseHslLegacy_default],serialize:e=>`hsl(${e.h||0} ${void 0!==e.s?100*e.s+"%":"none"} ${void 0!==e.l?100*e.l+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:interpolatorLinear,fixup:fixupHueShorter},s:interpolatorLinear,l:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}},difference:{h:differenceHueSaturation},average:{h:averageAngle}},definition_default7=definition7;function convertHsvToRgb({h:e,s:t,v:a,alpha:o}){e=normalizeHue_default(e);let r,n=Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:r={r:a,g:a*(1-t*n),b:a*(1-t)};break;case 1:r={r:a*(1-t*n),g:a,b:a*(1-t)};break;case 2:r={r:a*(1-t),g:a,b:a*(1-t*n)};break;case 3:r={r:a*(1-t),g:a*(1-t*n),b:a};break;case 4:r={r:a*(1-t*n),g:a*(1-t),b:a};break;case 5:r={r:a,g:a*(1-t),b:a*(1-t*n)};break;default:r={r:a*(1-t),g:a*(1-t),b:a*(1-t)}}return r.mode="rgb",void 0!==o&&(r.alpha=o),r}function convertRgbToHsv({r:e,g:t,b:a,alpha:o}){let r=Math.max(e,t,a),n=Math.min(e,t,a),l={mode:"hsv",s:0===r?0:1-n/r,v:r};return r-n!==0&&(l.h=60*(r===e?(t-a)/(r-n)+6*(t<a):r===t?(a-e)/(r-n)+2:(e-t)/(r-n)+4)),void 0!==o&&(l.alpha=o),l}var definition8={mode:"hsv",toMode:{rgb:convertHsvToRgb},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:convertRgbToHsv},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:interpolatorLinear,fixup:fixupHueShorter},s:interpolatorLinear,v:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}},difference:{h:differenceHueSaturation},average:{h:averageAngle}},definition_default8=definition8;function convertHwbToRgb({h:e,w:t,b:a,alpha:o}){if(t+a>1){let e=t+a;t/=e,a/=e}return convertHsvToRgb({h:e,s:1===a?1:1-t/(1-a),v:1-a,alpha:o})}function convertRgbToHwb(e){let t=convertRgbToHsv(e);if(void 0===t)return;let a={mode:"hwb",w:(1-t.s)*t.v,b:1-t.v};return void 0!==t.h&&(a.h=t.h),void 0!==t.alpha&&(a.alpha=t.alpha),a}function ParseHwb(e,t){if(!t||"hwb"!==t[0])return;const a={mode:"hwb"},[,o,r,n,l]=t;if(o.type!==Tok.None){if(o.type===Tok.Percentage)return;a.h=o.value}if(r.type!==Tok.None){if(r.type===Tok.Hue)return;a.w=r.type===Tok.Number?r.value:r.value/100}if(n.type!==Tok.None){if(n.type===Tok.Hue)return;a.b=n.type===Tok.Number?n.value:n.value/100}return l.type!==Tok.None&&(a.alpha=l.type===Tok.Number?l.value:l.value/100),a}var parseHwb_default=ParseHwb,definition9={mode:"hwb",toMode:{rgb:convertHwbToRgb},fromMode:{rgb:convertRgbToHwb},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[parseHwb_default],serialize:e=>`hwb(${e.h||0} ${100*e.w}% ${100*e.b}%${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:interpolatorLinear,fixup:fixupHueShorter},w:interpolatorLinear,b:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}},difference:{h:differenceHueNaive},average:{h:averageAngle}},definition_default9=definition9,n=.1593017578125,p=134.03437499999998,c1=.8359375,c2=18.8515625,c3=18.6875,d0=16295499532821565e-27,pq=e=>{let t=Math.pow(e/1e4,n);return Math.pow((c1+c2*t)/(1+c3*t),p)||0},abs=e=>Math.max(203*e,0),convertXyz65ToJab=({x:e,y:t,z:a,alpha:o})=>{e=abs(e),t=abs(t);let r=1.15*e-.15*(a=abs(a)),n=.66*t+.34*e,l=pq(.41478972*r+.579999*n+.014648*a),i=pq(-.20151*r+1.120649*n+.0531008*a),u=pq(-.0166008*r+.2648*n+.6684799*a),d=(l+i)/2,f={mode:"jab",j:.44*d/(1-.56*d)-d0,a:3.524*l-4.066708*i+.542708*u,b:.199076*l+1.096799*i-1.295875*u};return void 0!==o&&(f.alpha=o),f},convertXyz65ToJab_default=convertXyz65ToJab,n2=.1593017578125,p2=134.03437499999998,c12=.8359375,c22=18.8515625,c32=18.6875,d02=16295499532821565e-27,pq_inv=e=>{let t=Math.pow(e,1/p2);return 1e4*Math.pow((c12-t)/(c32*t-c22),1/n2)||0},rel=e=>e/203,convertJabToXyz65=({j:e,a:t,b:a,alpha:o})=>{let r=(e+d02)/(.44+.56*(e+d02)),n=pq_inv(r+.13860504*t+.058047316*a),l=pq_inv(r-.13860504*t-.058047316*a),i=pq_inv(r-.096019242*t-.8118919*a),u={mode:"xyz65",x:rel(1.661373024652174*n-.914523081304348*l+.23136208173913045*i),y:rel(-.3250758611844533*n+1.571847026732543*l-.21825383453227928*i),z:rel(-.090982811*n-.31272829*l+1.5227666*i)};return void 0!==o&&(u.alpha=o),u},convertJabToXyz65_default=convertJabToXyz65,convertRgbToJab=e=>{let t=convertXyz65ToJab_default(convertRgbToXyz65_default(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},convertRgbToJab_default=convertRgbToJab,convertJabToRgb=e=>convertXyz65ToRgb_default(convertJabToXyz65_default(e)),convertJabToRgb_default=convertJabToRgb,definition10={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:convertRgbToJab_default,xyz65:convertXyz65ToJab_default},toMode:{rgb:convertJabToRgb_default,xyz65:convertJabToXyz65_default},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:interpolatorLinear,a:interpolatorLinear,b:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}}},definition_default10=definition10,convertJabToJch=({j:e,a:t,b:a,alpha:o})=>{let r=Math.sqrt(t*t+a*a),n={mode:"jch",j:e,c:r};return r&&(n.h=normalizeHue_default(180*Math.atan2(a,t)/Math.PI)),void 0!==o&&(n.alpha=o),n},convertJabToJch_default=convertJabToJch,convertJchToJab=({j:e,c:t,h:a,alpha:o})=>{let r={mode:"jab",j:e,a:t?t*Math.cos(a/180*Math.PI):0,b:t?t*Math.sin(a/180*Math.PI):0};return void 0!==o&&(r.alpha=o),r},convertJchToJab_default=convertJchToJab,definition11={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:convertJchToJab_default,rgb:e=>convertJabToRgb_default(convertJchToJab_default(e))},fromMode:{rgb:e=>convertJabToJch_default(convertRgbToJab_default(e)),jab:convertJabToJch_default},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:interpolatorLinear,fixup:fixupHueShorter},c:interpolatorLinear,j:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}},difference:{h:differenceHueChroma},average:{h:averageAngle}},definition_default11=definition11,k3=Math.pow(29,3)/Math.pow(3,3),e3=Math.pow(6,3)/Math.pow(29,3),fn4=e=>Math.pow(e,3)>e3?Math.pow(e,3):(116*e-16)/k3,convertLabToXyz50=({l:e,a:t,b:a,alpha:o})=>{let r=(e+16)/116,n=r-a/200,l={mode:"xyz50",x:fn4(t/500+r)*D50.X,y:fn4(r)*D50.Y,z:fn4(n)*D50.Z};return void 0!==o&&(l.alpha=o),l},convertLabToXyz50_default=convertLabToXyz50,convertXyz50ToRgb=({x:e,y:t,z:a,alpha:o})=>{let r=convertLrgbToRgb_default({r:3.1341359569958707*e-1.6173863321612538*t-.4906619460083532*a,g:-.978795502912089*e+1.916254567259524*t+.03344273116131949*a,b:.07195537988411677*e-.2289768264158322*t+1.405386058324125*a});return void 0!==o&&(r.alpha=o),r},convertXyz50ToRgb_default=convertXyz50ToRgb,convertLabToRgb=e=>convertXyz50ToRgb_default(convertLabToXyz50_default(e)),convertLabToRgb_default=convertLabToRgb,convertRgbToXyz50=e=>{let{r:t,g:a,b:o,alpha:r}=convertRgbToLrgb_default(e),n={mode:"xyz50",x:.436065742824811*t+.3851514688337912*a+.14307845442264197*o,y:.22249319175623702*t+.7168870538238823*a+.06061979053616537*o,z:.013923904500943465*t+.09708128566574634*a+.7140993584005155*o};return void 0!==r&&(n.alpha=r),n},convertRgbToXyz50_default=convertRgbToXyz50,f2=e=>e>e3?Math.cbrt(e):(k3*e+16)/116,convertXyz50ToLab=({x:e,y:t,z:a,alpha:o})=>{let r=f2(e/D50.X),n=f2(t/D50.Y),l={mode:"lab",l:116*n-16,a:500*(r-n),b:200*(n-f2(a/D50.Z))};return void 0!==o&&(l.alpha=o),l},convertXyz50ToLab_default=convertXyz50ToLab,convertRgbToLab=e=>{let t=convertXyz50ToLab_default(convertRgbToXyz50_default(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},convertRgbToLab_default=convertRgbToLab;function parseLab(e,t){if(!t||"lab"!==t[0])return;const a={mode:"lab"},[,o,r,n,l]=t;return o.type!==Tok.Hue&&r.type!==Tok.Hue&&n.type!==Tok.Hue?(o.type!==Tok.None&&(a.l=o.value),r.type!==Tok.None&&(a.a=r.type===Tok.Number?r.value:125*r.value/100),n.type!==Tok.None&&(a.b=n.type===Tok.Number?n.value:125*n.value/100),l.type!==Tok.None&&(a.alpha=l.type===Tok.Number?l.value:l.value/100),a):void 0}var parseLab_default=parseLab,definition12={mode:"lab",toMode:{xyz50:convertLabToXyz50_default,rgb:convertLabToRgb_default},fromMode:{xyz50:convertXyz50ToLab_default,rgb:convertRgbToLab_default},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-100,100],b:[-100,100]},parse:[parseLab_default],serialize:e=>`lab(${void 0!==e.l?e.l:"none"} ${void 0!==e.a?e.a:"none"} ${void 0!==e.b?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{l:interpolatorLinear,a:interpolatorLinear,b:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}}},definition_default12=definition12,definition13={...definition_default12,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:convertLab65ToXyz65_default,rgb:convertLab65ToRgb_default},fromMode:{xyz65:convertXyz65ToLab65_default,rgb:convertRgbToLab65_default},ranges:{l:[0,100],a:[-86.182,98.234],b:[-107.86,94.477]}},definition_default13=definition13;function parseLch(e,t){if(!t||"lch"!==t[0])return;const a={mode:"lch"},[,o,r,n,l]=t;if(o.type!==Tok.None){if(o.type===Tok.Hue)return;a.l=o.value}if(r.type!==Tok.None&&(a.c=Math.max(0,r.type===Tok.Number?r.value:150*r.value/100)),n.type!==Tok.None){if(n.type===Tok.Percentage)return;a.h=n.value}return l.type!==Tok.None&&(a.alpha=l.type===Tok.Number?l.value:l.value/100),a}var parseLch_default=parseLch,definition14={mode:"lch",toMode:{lab:convertLchToLab_default,rgb:e=>convertLabToRgb_default(convertLchToLab_default(e))},fromMode:{rgb:e=>convertLabToLch_default(convertRgbToLab_default(e)),lab:convertLabToLch_default},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[parseLch_default],serialize:e=>`lch(${void 0!==e.l?e.l:"none"} ${void 0!==e.c?e.c:"none"} ${e.h||0}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:interpolatorLinear,fixup:fixupHueShorter},c:interpolatorLinear,l:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}},difference:{h:differenceHueChroma},average:{h:averageAngle}},definition_default14=definition14,definition15={...definition_default14,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:e=>convertLchToLab_default(e,"lab65"),rgb:e=>convertLab65ToRgb_default(convertLchToLab_default(e,"lab65"))},fromMode:{rgb:e=>convertLabToLch_default(convertRgbToLab65_default(e),"lch65"),lab65:e=>convertLabToLch_default(e,"lch65")},ranges:{l:[0,100],c:[0,133.807],h:[0,360]}},definition_default15=definition15,convertLuvToLchuv=({l:e,u:t,v:a,alpha:o})=>{let r=Math.sqrt(t*t+a*a),n={mode:"lchuv",l:e,c:r};return r&&(n.h=normalizeHue_default(180*Math.atan2(a,t)/Math.PI)),void 0!==o&&(n.alpha=o),n},convertLuvToLchuv_default=convertLuvToLchuv,convertLchuvToLuv=({l:e,c:t,h:a,alpha:o})=>{let r={mode:"luv",l:e,u:t?t*Math.cos(a/180*Math.PI):0,v:t?t*Math.sin(a/180*Math.PI):0};return void 0!==o&&(r.alpha=o),r},convertLchuvToLuv_default=convertLchuvToLuv,u_fn=(e,t,a)=>4*e/(e+15*t+3*a),v_fn=(e,t,a)=>9*t/(e+15*t+3*a),un=u_fn(D50.X,D50.Y,D50.Z),vn=v_fn(D50.X,D50.Y,D50.Z),l_fn=e=>e<=e3?k3*e:116*Math.cbrt(e)-16,convertXyz50ToLuv=({x:e,y:t,z:a,alpha:o})=>{let r=l_fn(t/D50.Y),n=u_fn(e,t,a),l=v_fn(e,t,a);isFinite(n)&&isFinite(l)?(n=13*r*(n-un),l=13*r*(l-vn)):r=n=l=0;let i={mode:"luv",l:r,u:n,v:l};return void 0!==o&&(i.alpha=o),i},convertXyz50ToLuv_default=convertXyz50ToLuv,u_fn2=(e,t,a)=>4*e/(e+15*t+3*a),v_fn2=(e,t,a)=>9*t/(e+15*t+3*a),un2=u_fn2(D50.X,D50.Y,D50.Z),vn2=v_fn2(D50.X,D50.Y,D50.Z),convertLuvToXyz50=({l:e,u:t,v:a,alpha:o})=>{let r=t/(13*e)+un2,n=a/(13*e)+vn2,l=D50.Y*(e<=8?e/k3:Math.pow((e+16)/116,3)),i={mode:"xyz50",x:l*(9*r)/(4*n),y:l,z:l*(12-3*r-20*n)/(4*n)};return void 0!==o&&(i.alpha=o),i},convertLuvToXyz50_default=convertLuvToXyz50,convertRgbToLchuv=e=>convertLuvToLchuv_default(convertXyz50ToLuv_default(convertRgbToXyz50_default(e))),convertLchuvToRgb=e=>convertXyz50ToRgb_default(convertLuvToXyz50_default(convertLchuvToLuv_default(e))),definition16={mode:"lchuv",toMode:{luv:convertLchuvToLuv_default,rgb:convertLchuvToRgb},fromMode:{rgb:convertRgbToLchuv,luv:convertLuvToLchuv_default},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:interpolatorLinear,fixup:fixupHueShorter},c:interpolatorLinear,l:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}},difference:{h:differenceHueChroma},average:{h:averageAngle}},definition_default16=definition16,definition17={...definition_default,mode:"lrgb",toMode:{rgb:convertLrgbToRgb_default},fromMode:{rgb:convertRgbToLrgb_default},parse:["srgb-linear"],serialize:"srgb-linear"},definition_default17=definition17,definition18={mode:"luv",toMode:{xyz50:convertLuvToXyz50_default,rgb:e=>convertXyz50ToRgb_default(convertLuvToXyz50_default(e))},fromMode:{xyz50:convertXyz50ToLuv_default,rgb:e=>convertXyz50ToLuv_default(convertRgbToXyz50_default(e))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:interpolatorLinear,u:interpolatorLinear,v:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}}},definition_default18=definition18,convertLrgbToOklab=({r:e,g:t,b:a,alpha:o})=>{let r=Math.cbrt(.41222147079999993*e+.5363325363*t+.0514459929*a),n=Math.cbrt(.2119034981999999*e+.6806995450999999*t+.1073969566*a),l=Math.cbrt(.08830246189999998*e+.2817188376*t+.6299787005000002*a),i={mode:"oklab",l:.2104542553*r+.793617785*n-.0040720468*l,a:1.9779984951*r-2.428592205*n+.4505937099*l,b:.0259040371*r+.7827717662*n-.808675766*l};return void 0!==o&&(i.alpha=o),i},convertLrgbToOklab_default=convertLrgbToOklab,convertRgbToOklab=e=>{let t=convertLrgbToOklab_default(convertRgbToLrgb_default(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},convertRgbToOklab_default=convertRgbToOklab,convertOklabToLrgb=({l:e,a:t,b:a,alpha:o})=>{let r=Math.pow(.9999999984505198*e+.39633779217376786*t+.2158037580607588*a,3),n=Math.pow(1.0000000088817609*e-.10556134232365635*t-.06385417477170591*a,3),l=Math.pow(1.0000000546724108*e-.08948418209496575*t-1.2914855378640917*a,3),i={mode:"lrgb",r:4.076741661347994*r-3.307711590408193*n+.230969928729428*l,g:-1.2684380040921763*r+2.6097574006633715*n-.3413193963102197*l,b:-.004196086541837188*r-.7034186144594493*n+1.7076147009309444*l};return void 0!==o&&(i.alpha=o),i},convertOklabToLrgb_default=convertOklabToLrgb,convertOklabToRgb=e=>convertLrgbToRgb_default(convertOklabToLrgb_default(e)),convertOklabToRgb_default=convertOklabToRgb;function toe(e){const t=.206,a=1.206/1.03;return.5*(a*e-t+Math.sqrt((a*e-t)*(a*e-t)+.12*a*e))}function toe_inv(e){return(e*e+.206*e)/(1.170873786407767*(e+.03))}function compute_max_saturation(e,t){let a,o,r,n,l,i,u,d;-1.88170328*e-.80936493*t>1?(a=1.19086277,o=1.76576728,r=.59662641,n=.75515197,l=.56771245,i=4.0767416621,u=-3.3077115913,d=.2309699292):1.81444104*e-1.19445276*t>1?(a=.73956515,o=-.45954404,r=.08285427,n=.1254107,l=.14503204,i=-1.2684380046,u=2.6097574011,d=-.3413193965):(a=1.35733652,o=-.00915799,r=-1.1513021,n=-.50559606,l=.00692167,i=-.0041960863,u=-.7034186147,d=1.707614701);let f=a+o*e+r*t+n*e*e+l*e*t,c=.3963377774*e+.2158037573*t,h=-.1055613458*e-.0638541728*t,p=-.0894841775*e-1.291485548*t;{let e=1+f*c,t=1+f*h,a=1+f*p,o=i*(e*e*e)+u*(t*t*t)+d*(a*a*a),r=i*(3*c*e*e)+u*(3*h*t*t)+d*(3*p*a*a);f-=o*r/(r*r-.5*o*(i*(6*c*c*e)+u*(6*h*h*t)+d*(6*p*p*a)))}return f}function find_cusp(e,t){let a=compute_max_saturation(e,t),o=convertOklabToLrgb_default({l:1,a:a*e,b:a*t}),r=Math.cbrt(1/Math.max(o.r,o.g,o.b));return[r,r*a]}function find_gamut_intersection(e,t,a,o,r,n=null){let l;if(n||(n=find_cusp(e,t)),(a-r)*n[1]-(n[0]-r)*o<=0)l=n[1]*r/(o*n[0]+n[1]*(r-a));else{l=n[1]*(r-1)/(o*(n[0]-1)+n[1]*(r-a));{let n=a-r,i=.3963377774*e+.2158037573*t,u=-.1055613458*e-.0638541728*t,d=-.0894841775*e-1.291485548*t,f=n+o*i,c=n+o*u,h=n+o*d;{let e=r*(1-l)+l*a,t=l*o,n=e+t*i,p=e+t*u,b=e+t*d,s=n*n*n,v=p*p*p,g=b*b*b,m=3*f*n*n,_=3*c*p*p,T=3*h*b*b,y=6*f*f*n,M=6*c*c*p,z=6*h*h*b,L=4.0767416621*s-3.3077115913*v+.2309699292*g-1,k=4.0767416621*m-3.3077115913*_+.2309699292*T,x=k/(k*k-.5*L*(4.0767416621*y-3.3077115913*M+.2309699292*z)),R=-L*x,X=-1.2684380046*s+2.6097574011*v-.3413193965*g-1,H=-1.2684380046*m+2.6097574011*_-.3413193965*T,w=H/(H*H-.5*X*(-1.2684380046*y+2.6097574011*M-.3413193965*z)),P=-X*w,O=-.0041960863*s-.7034186147*v+1.707614701*g-1,N=-.0041960863*m-.7034186147*_+1.707614701*T,D=N/(N*N-.5*O*(-.0041960863*y-.7034186147*M+1.707614701*z)),S=-O*D;R=x>=0?R:1e6,P=w>=0?P:1e6,S=D>=0?S:1e6,l+=Math.min(R,Math.min(P,S))}}}return l}function get_ST_max(e,t,a=null){a||(a=find_cusp(e,t));let o=a[0],r=a[1];return[r/o,r/(1-o)]}function get_Cs(e,t,a){let o=find_cusp(t,a),r=find_gamut_intersection(t,a,e,1,e,o),n=get_ST_max(t,a,o),l=e*(.11516993+1/(7.4477897+4.1590124*a+t*(1.75198401*a-2.19557347+t*(-2.13704948-10.02301043*a+t*(5.38770819*a-4.24894561+4.69891013*t))))),i=(1-e)*(.11239642+1/(1.6132032-.68124379*a+t*(.40370612+.90148123*a+t*(.6122399*a-.27087943+t*(.00299215-.45399568*a-.14661872*t))))),u=.9*(r/Math.min(e*n[0],(1-e)*n[1]))*Math.sqrt(Math.sqrt(1/(1/(l*l*l*l)+1/(i*i*i*i))));return l=.4*e,i=.8*(1-e),[Math.sqrt(1/(1/(l*l)+1/(i*i))),u,r]}function convertOklabToOkhsl(e){const t={mode:"okhsl",l:toe(e.l)};void 0!==e.alpha&&(t.alpha=e.alpha);let a=Math.sqrt(e.a*e.a+e.b*e.b);if(!a)return t.s=0,t;let o,[r,n,l]=get_Cs(e.l,e.a/a,e.b/a);if(a<n){let e=0,t=.8*r;o=.8*((a-e)/(t+(1-t/n)*(a-e)))}else{let e=.2*n*n*1.25*1.25/r;o=.8+.2*((a-n)/(e+(1-e/(l-n))*(a-n)))}return o&&(t.s=o,t.h=normalizeHue_default(180*Math.atan2(e.b,e.a)/Math.PI)),t}function convertOkhslToOklab(e){let t=toe_inv(e.l);const a={mode:"oklab",l:t};if(void 0!==e.alpha&&(a.alpha=e.alpha),!e.s||1===e.l)return a.a=a.b=0,a;let o,r,n,l,i=Math.cos(e.h/180*Math.PI),u=Math.sin(e.h/180*Math.PI),[d,f,c]=get_Cs(t,i,u);e.s<.8?(o=1.25*e.s,r=0,n=.8*d,l=1-n/f):(o=5*(e.s-.8),r=f,n=.2*f*f*1.25*1.25/d,l=1-n/(c-f));let h=r+o*n/(1-l*o);return a.a=h*i,a.b=h*u,a}var modeOkhsl={...definition_default7,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:convertOklabToOkhsl,rgb:e=>convertOklabToOkhsl(convertRgbToOklab_default(e))},toMode:{oklab:convertOkhslToOklab,rgb:e=>convertOklabToRgb_default(convertOkhslToOklab(e))}},modeOkhsl_default=modeOkhsl;function convertOklabToOkhsv(e){let t=Math.sqrt(e.a*e.a+e.b*e.b),a=e.l,o=t?e.a/t:1,r=t?e.b/t:1,[n,l]=get_ST_max(o,r),i=1-.5/n,u=l/(t+a*l),d=u*a,f=u*t,c=toe_inv(d),h=f*c/d,p=convertOklabToLrgb_default({l:c,a:o*h,b:r*h}),b=Math.cbrt(1/Math.max(p.r,p.g,p.b,0));a/=b,t=t/b*toe(a)/a,a=toe(a);const s={mode:"okhsv",s:t?(.5+l)*f/(.5*l+l*i*f):0,v:a?a/d:0};return s.s&&(s.h=normalizeHue_default(180*Math.atan2(e.b,e.a)/Math.PI)),void 0!==e.alpha&&(s.alpha=e.alpha),s}function convertOkhsvToOklab(e){const t={mode:"oklab"};void 0!==e.alpha&&(t.alpha=e.alpha);const a=e.h||0,o=Math.cos(a/180*Math.PI),r=Math.sin(a/180*Math.PI),[n,l]=get_ST_max(o,r),i=.5,u=1-i/n,d=1-e.s*i/(i+l-l*u*e.s),f=e.s*l*i/(i+l-l*u*e.s),c=toe_inv(d),h=f*c/d,p=convertOklabToLrgb_default({l:c,a:o*h,b:r*h}),b=Math.cbrt(1/Math.max(p.r,p.g,p.b,0)),s=toe_inv(e.v*d),v=f*s/d;return t.l=s*b,t.a=v*o*b,t.b=v*r*b,t}var modeOkhsv={...definition_default8,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:convertOklabToOkhsv,rgb:e=>convertOklabToOkhsv(convertRgbToOklab_default(e))},toMode:{oklab:convertOkhsvToOklab,rgb:e=>convertOklabToRgb_default(convertOkhsvToOklab(e))}},modeOkhsv_default=modeOkhsv;function parseOklab(e,t){if(!t||"oklab"!==t[0])return;const a={mode:"oklab"},[,o,r,n,l]=t;return o.type!==Tok.Hue&&r.type!==Tok.Hue&&n.type!==Tok.Hue?(o.type!==Tok.None&&(a.l=o.type===Tok.Number?o.value:o.value/100),r.type!==Tok.None&&(a.a=r.type===Tok.Number?r.value:.4*r.value/100),n.type!==Tok.None&&(a.b=n.type===Tok.Number?n.value:.4*n.value/100),l.type!==Tok.None&&(a.alpha=l.type===Tok.Number?l.value:l.value/100),a):void 0}var parseOklab_default=parseOklab,definition19={...definition_default12,mode:"oklab",toMode:{lrgb:convertOklabToLrgb_default,rgb:convertOklabToRgb_default},fromMode:{lrgb:convertLrgbToOklab_default,rgb:convertRgbToOklab_default},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[parseOklab_default],serialize:e=>`oklab(${void 0!==e.l?e.l:"none"} ${void 0!==e.a?e.a:"none"} ${void 0!==e.b?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`},definition_default19=definition19;function parseOklch(e,t){if(!t||"oklch"!==t[0])return;const a={mode:"oklch"},[,o,r,n,l]=t;if(o.type!==Tok.None){if(o.type===Tok.Hue)return;a.l=o.type===Tok.Number?o.value:o.value/100}if(r.type!==Tok.None&&(a.c=Math.max(0,r.type===Tok.Number?r.value:.4*r.value/100)),n.type!==Tok.None){if(n.type===Tok.Percentage)return;a.h=n.value}return l.type!==Tok.None&&(a.alpha=l.type===Tok.Number?l.value:l.value/100),a}var parseOklch_default=parseOklch,definition20={...definition_default14,mode:"oklch",toMode:{oklab:e=>convertLchToLab_default(e,"oklab"),rgb:e=>convertOklabToRgb_default(convertLchToLab_default(e,"oklab"))},fromMode:{rgb:e=>convertLabToLch_default(convertRgbToOklab_default(e),"oklch"),oklab:e=>convertLabToLch_default(e,"oklch")},parse:[parseOklch_default],serialize:e=>`oklch(${void 0!==e.l?e.l:"none"} ${void 0!==e.c?e.c:"none"} ${e.h||0}${e.alpha<1?` / ${e.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},definition_default20=definition20,convertP3ToXyz65=e=>{let{r:t,g:a,b:o,alpha:r}=convertRgbToLrgb_default(e),n={mode:"xyz65",x:.486570948648216*t+.265667693169093*a+.1982172852343625*o,y:.2289745640697487*t+.6917385218365062*a+.079286914093745*o,z:0*t+.0451133818589026*a+1.043944368900976*o};return void 0!==r&&(n.alpha=r),n},convertP3ToXyz65_default=convertP3ToXyz65,convertXyz65ToP3=({x:e,y:t,z:a,alpha:o})=>{let r=convertLrgbToRgb_default({r:2.4934969119414263*e-.9313836179191242*t-.402710784450717*a,g:-.8294889695615749*e+1.7626640603183465*t+.0236246858419436*a,b:.0358458302437845*e-.0761723892680418*t+.9568845240076871*a},"p3");return void 0!==o&&(r.alpha=o),r},convertXyz65ToP3_default=convertXyz65ToP3,definition21={...definition_default,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:e=>convertXyz65ToP3_default(convertRgbToXyz65_default(e)),xyz65:convertXyz65ToP3_default},toMode:{rgb:e=>convertXyz65ToRgb_default(convertP3ToXyz65_default(e)),xyz65:convertP3ToXyz65_default}},definition_default21=definition21,gamma2=e=>{let t=Math.abs(e);return t>=1/512?Math.sign(e)*Math.pow(t,1/1.8):16*e},convertXyz50ToProphoto=({x:e,y:t,z:a,alpha:o})=>{let r={mode:"prophoto",r:gamma2(1.3457868816471585*e-.2555720873797946*t-.0511018649755453*a),g:gamma2(-.5446307051249019*e+1.5082477428451466*t+.0205274474364214*a),b:gamma2(0*e+0*t+1.2119675456389452*a)};return void 0!==o&&(r.alpha=o),r},convertXyz50ToProphoto_default=convertXyz50ToProphoto,linearize2=e=>{let t=Math.abs(e);return t>=16/512?Math.sign(e)*Math.pow(t,1.8):e/16},convertProphotoToXyz50=e=>{let t=linearize2(e.r),a=linearize2(e.g),o=linearize2(e.b),r={mode:"xyz50",x:.7977666449006423*t+.1351812974005331*a+.0313477341283922*o,y:.2880748288194013*t+.7118352342418731*a+899369387256e-16*o,z:0*t+0*a+.8251046025104602*o};return void 0!==e.alpha&&(r.alpha=e.alpha),r},convertProphotoToXyz50_default=convertProphotoToXyz50,definition22={...definition_default,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:convertXyz50ToProphoto_default,rgb:e=>convertXyz50ToProphoto_default(convertRgbToXyz50_default(e))},toMode:{xyz50:convertProphotoToXyz50_default,rgb:e=>convertXyz50ToRgb_default(convertProphotoToXyz50_default(e))}},definition_default22=definition22,\u03b1=1.09929682680944,\u03b2=.018053968510807,gamma3=e=>{const t=Math.abs(e);return t>\u03b2?(Math.sign(e)||1)*(\u03b1*Math.pow(t,.45)-(\u03b1-1)):4.5*e},convertXyz65ToRec2020=({x:e,y:t,z:a,alpha:o})=>{let r={mode:"rec2020",r:gamma3(1.7166511879712683*e-.3556707837763925*t-.2533662813736599*a),g:gamma3(-.6666843518324893*e+1.6164812366349395*t+.0157685458139111*a),b:gamma3(.0176398574453108*e-.0427706132578085*t+.9421031212354739*a)};return void 0!==o&&(r.alpha=o),r},convertXyz65ToRec2020_default=convertXyz65ToRec2020,\u03b12=1.09929682680944,\u03b22=.018053968510807,linearize3=e=>{let t=Math.abs(e);return t<4.5*\u03b22?e/4.5:(Math.sign(e)||1)*Math.pow((t+\u03b12-1)/\u03b12,1/.45)},convertRec2020ToXyz65=e=>{let t=linearize3(e.r),a=linearize3(e.g),o=linearize3(e.b),r={mode:"xyz65",x:.6369580483012911*t+.1446169035862083*a+.1688809751641721*o,y:.262700212011267*t+.6779980715188708*a+.059301716469862*o,z:0*t+.0280726930490874*a+1.0609850577107909*o};return void 0!==e.alpha&&(r.alpha=e.alpha),r},convertRec2020ToXyz65_default=convertRec2020ToXyz65,definition23={...definition_default,mode:"rec2020",fromMode:{xyz65:convertXyz65ToRec2020_default,rgb:e=>convertXyz65ToRec2020_default(convertRgbToXyz65_default(e))},toMode:{xyz65:convertRec2020ToXyz65_default,rgb:e=>convertXyz65ToRgb_default(convertRec2020ToXyz65_default(e))},parse:["rec2020"],serialize:"rec2020"},definition_default23=definition23,bias=.0037930732552754493,bias_cbrt=Math.cbrt(bias),transfer=e=>Math.cbrt(e)-bias_cbrt,convertRgbToXyb=e=>{const{r:t,g:a,b:o,alpha:r}=convertRgbToLrgb_default(e),n=transfer(.3*t+.622*a+.078*o+bias),l=transfer(.23*t+.692*a+.078*o+bias),i={mode:"xyb",x:(n-l)/2,y:(n+l)/2,b:transfer(.2434226892454782*t+.2047674442449682*a+.5518098665095535*o+bias)-(n+l)/2};return void 0!==r&&(i.alpha=r),i},convertRgbToXyb_default=convertRgbToXyb,transfer2=e=>Math.pow(e+bias_cbrt,3),convertXybToRgb=({x:e,y:t,b:a,alpha:o})=>{const r=transfer2(e+t)-bias,n=transfer2(t-e)-bias,l=transfer2(a+t)-bias,i=convertLrgbToRgb_default({r:11.031566904639861*r-9.866943908131562*n-.16462299650829934*l,g:-3.2541473810744237*r+4.418770377582723*n-.16462299650829934*l,b:-3.6588512867136815*r+2.7129230459360922*n+1.9459282407775895*l});return void 0!==o&&(i.alpha=o),i},convertXybToRgb_default=convertXybToRgb,definition24={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:convertXybToRgb_default},fromMode:{rgb:convertRgbToXyb_default},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:interpolatorLinear,y:interpolatorLinear,b:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}}},definition_default24=definition24,definition25={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:convertXyz50ToRgb_default,lab:convertXyz50ToLab_default},fromMode:{rgb:convertRgbToXyz50_default,lab:convertLabToXyz50_default},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:interpolatorLinear,y:interpolatorLinear,z:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}}},definition_default25=definition25,convertXyz65ToXyz50=e=>{let{x:t,y:a,z:o,alpha:r}=e,n={mode:"xyz50",x:1.0479298208405488*t+.0229467933410191*a-.0501922295431356*o,y:.0296278156881593*t+.990434484573249*a-.0170738250293851*o,z:-.0092430581525912*t+.0150551448965779*a+.7518742899580008*o};return void 0!==r&&(n.alpha=r),n},convertXyz65ToXyz50_default=convertXyz65ToXyz50,convertXyz50ToXyz65=e=>{let{x:t,y:a,z:o,alpha:r}=e,n={mode:"xyz65",x:.9554734527042182*t-.0230985368742614*a+.0632593086610217*o,y:-.0283697069632081*t+1.0099954580058226*a+.021041398966943*o,z:.0123140016883199*t-.0205076964334779*a+1.3303659366080753*o};return void 0!==r&&(n.alpha=r),n},convertXyz50ToXyz65_default=convertXyz50ToXyz65,definition26={mode:"xyz65",toMode:{rgb:convertXyz65ToRgb_default,xyz50:convertXyz65ToXyz50_default},fromMode:{rgb:convertRgbToXyz65_default,xyz50:convertXyz50ToXyz65_default},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:interpolatorLinear,y:interpolatorLinear,z:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}}},definition_default26=definition26,convertRgbToYiq=({r:e,g:t,b:a,alpha:o})=>{const r={mode:"yiq",y:.29889531*e+.58662247*t+.11448223*a,i:.59597799*e-.2741761*t-.32180189*a,q:.21147017*e-.52261711*t+.31114694*a};return void 0!==o&&(r.alpha=o),r},convertRgbToYiq_default=convertRgbToYiq,convertYiqToRgb=({y:e,i:t,q:a,alpha:o})=>{const r={mode:"rgb",r:e+.95608445*t+.6208885*a,g:e-.27137664*t-.6486059*a,b:e-1.10561724*t+1.70250126*a};return void 0!==o&&(r.alpha=o),r},convertYiqToRgb_default=convertYiqToRgb,definition27={mode:"yiq",toMode:{rgb:convertYiqToRgb_default},fromMode:{rgb:convertRgbToYiq_default},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:interpolatorLinear,i:interpolatorLinear,q:interpolatorLinear,alpha:{use:interpolatorLinear,fixup:fixupAlpha}}},definition_default27=definition27,r=(e,t)=>Math.round(e*(t=Math.pow(10,t)))/t,round=(e=4)=>t=>"number"===typeof t?r(t,e):t,round_default=round,twoDecimals=round_default(2),clamp=e=>Math.max(0,Math.min(1,e)),fixup=e=>Math.round(255*clamp(e)),serializeHex=e=>{if(void 0===e)return;return"#"+(1<<24|fixup(e.r)<<16|fixup(e.g)<<8|fixup(e.b)).toString(16).slice(1)},serializeHex8=e=>{if(void 0===e)return;let t=fixup(void 0!==e.alpha?e.alpha:1);return serializeHex(e)+(256|t).toString(16).slice(1)},serializeRgb=e=>{if(void 0===e)return;let t=void 0!==e.r?fixup(e.r):"none",a=void 0!==e.g?fixup(e.g):"none",o=void 0!==e.b?fixup(e.b):"none";return void 0===e.alpha||1===e.alpha?`rgb(${t}, ${a}, ${o})`:`rgba(${t}, ${a}, ${o}, ${twoDecimals(clamp(e.alpha))})`},serializeHsl=e=>{if(void 0===e)return;const t=twoDecimals(e.h||0),a=void 0!==e.s?twoDecimals(100*clamp(e.s))+"%":"none",o=void 0!==e.l?twoDecimals(100*clamp(e.l))+"%":"none";return void 0===e.alpha||1===e.alpha?`hsl(${t}, ${a}, ${o})`:`hsla(${t}, ${a}, ${o}, ${twoDecimals(clamp(e.alpha))})`},formatCss=e=>{const t=prepare_default(e);if(!t)return;const a=getMode(t.mode);if(!a.serialize||"string"===typeof a.serialize){let e=`color(${a.serialize||`--${t.mode}`} `;return a.channels.forEach(((a,o)=>{"alpha"!==a&&(e+=(o?" ":"")+(void 0!==t[a]?t[a]:"none"))})),void 0!==t.alpha&&t.alpha<1&&(e+=` / ${t.alpha}`),e+")"}return"function"===typeof a.serialize?a.serialize(t):void 0},formatHex=e=>serializeHex(converter_default("rgb")(e)),formatHex8=e=>serializeHex8(converter_default("rgb")(e)),formatRgb=e=>serializeRgb(converter_default("rgb")(e)),formatHsl=e=>serializeHsl(converter_default("hsl")(e)),BLENDS={normal:(e,t)=>t,multiply:(e,t)=>e*t,screen:(e,t)=>e+t-e*t,"hard-light":(e,t)=>t<.5?2*e*t:2*t*(1-e)-1,overlay:(e,t)=>e<.5?2*t*e:2*e*(1-t)-1,darken:(e,t)=>Math.min(e,t),lighten:(e,t)=>Math.max(e,t),"color-dodge":(e,t)=>0===e?0:1===t?1:Math.min(1,e/(1-t)),"color-burn":(e,t)=>1===e?1:0===t?0:1-Math.min(1,(1-e)/t),"soft-light":(e,t)=>t<.5?e-(1-2*t)*e*(1-e):e+(2*t-1)*((e<.25?((16*e-12)*e+4)*e:Math.sqrt(e))-e),difference:(e,t)=>Math.abs(e-t),exclusion:(e,t)=>e+t-2*e*t},blend=(e,t="normal",a="rgb")=>{let o="function"===typeof t?t:BLENDS[t],r=converter_default(a),n=getMode(a).channels;return e.map((e=>{let t=r(e);return void 0===t.alpha&&(t.alpha=1),t})).reduce(((e,t)=>{if(void 0===e)return t;let r=t.alpha+e.alpha*(1-t.alpha);return n.reduce(((a,n)=>("alpha"!==n&&(0===r?a[n]=0:(a[n]=t.alpha*(1-e.alpha)*t[n]+t.alpha*e.alpha*o(e[n],t[n])+(1-t.alpha)*e.alpha*e[n],a[n]=Math.max(0,Math.min(1,a[n]/r)))),a)),{mode:a,alpha:r})}))},blend_default=blend,rand=([e,t])=>e+Math.random()*(t-e),to_intervals=e=>Object.keys(e).reduce(((t,a)=>{let o=e[a];return t[a]=Array.isArray(o)?o:[o,o],t}),{}),random=(e="rgb",t={})=>{let a=getMode(e),o=to_intervals(t);return a.channels.reduce(((e,t)=>((o.alpha||"alpha"!==t)&&(e[t]=rand(o[t]||a.ranges[t])),e)),{mode:e})},random_default=random,mapper=(e,t="rgb",a=!1)=>{let o=t?getMode(t).channels:null,r=t?converter_default(t):prepare_default;return n=>{let l=r(n);if(!l)return;let i=(o||getMode(l.mode).channels).reduce(((a,o)=>{let r=e(l[o],o,l,t);return void 0===r||isNaN(r)||(a[o]=r),a}),{mode:l.mode});if(!a)return i;let u=prepare_default(n);return u&&u.mode!==i.mode?converter_default(u.mode)(i):i}},mapAlphaMultiply=(e,t,a)=>"alpha"!==t?(e||0)*(void 0!==a.alpha?a.alpha:1):e,mapAlphaDivide=(e,t,a)=>"alpha"!==t&&0!==a.alpha?(e||0)/(void 0!==a.alpha?a.alpha:1):e,mapTransferLinear=(e=1,t=0)=>(a,o)=>"alpha"!==o?a*e+t:a,mapTransferGamma=(e=1,t=1,a=0)=>(o,r)=>"alpha"!==r?e*Math.pow(o,t)+a:o,normalizePositions=e=>{void 0===e[0]&&(e[0]=0),void 0===e[e.length-1]&&(e[e.length-1]=1);let t,a,o,r,n=1;for(;n<e.length;){if(void 0===e[n]){for(a=n,o=e[n-1],t=n;void 0===e[t];)t++;for(r=(e[t]-o)/(t-n+1);n<t;)e[n]=o+(n+1-a)*r,n++}else e[n]<e[n-1]&&(e[n]=e[n-1]);n++}return e},normalizePositions_default=normalizePositions,midpoint=(e=.5)=>t=>e<=0?1:e>=1?0:Math.pow(t,Math.log(.5)/Math.log(e)),midpoint_default=midpoint,isfn2=e=>"function"===typeof e,isobj=e=>e&&"object"===typeof e,isnum=e=>"number"===typeof e,interpolate_fn=(e,t="rgb",a,o)=>{let r=getMode(t),n=converter_default(t),l=[],i=[],u={};e.forEach((e=>{Array.isArray(e)?(l.push(n(e[0])),i.push(e[1])):isnum(e)||isfn2(e)?u[i.length]=e:(l.push(n(e)),i.push(void 0))})),normalizePositions_default(i);let d=r.channels.reduce(((e,t)=>{let o;return o=isobj(a)&&isobj(a[t])&&a[t].fixup?a[t].fixup:isobj(r.interpolate[t])&&r.interpolate[t].fixup?r.interpolate[t].fixup:e=>e,e[t]=o(l.map((e=>e[t]))),e}),{});if(o){let e=l.map(((e,a)=>r.channels.reduce(((e,t)=>(e[t]=d[t][a],e)),{mode:t})));d=r.channels.reduce(((a,r)=>(a[r]=e.map((e=>{let a=o(e[r],r,e,t);return isNaN(a)?void 0:a})),a)),{})}let f=r.channels.reduce(((e,t)=>{let o;return isfn2(a)?o=a:isobj(a)&&isfn2(a[t])?o=a[t]:isobj(a)&&isobj(a[t])&&a[t].use?o=a[t].use:isfn2(r.interpolate[t])?o=r.interpolate[t]:isobj(r.interpolate[t])&&(o=r.interpolate[t].use),e[t]=o(d[t]),e}),{}),c=l.length-1;return e=>{if((e=Math.min(Math.max(0,e),1))<=i[0])return l[0];if(e>i[c])return l[c];let a=0;for(;i[a]<e;)a++;let o=i[a-1],n=i[a]-o,d=(e-o)/n,h=u[a]||u[0];void 0!==h&&(isnum(h)&&(h=midpoint_default((h-o)/n)),d=h(d));let p=(a-1+d)/c;return r.channels.reduce(((e,t)=>{let a=f[t](p);return void 0!==a&&(e[t]=a),e}),{mode:t})}},interpolate=(e,t="rgb",a)=>interpolate_fn(e,t,a),interpolateWith=(e,t)=>(a,o="rgb",r)=>{let n=t?mapper(t,o):void 0,l=interpolate_fn(a,o,r,e);return n?e=>n(l(e)):l},interpolateWithPremultipliedAlpha=interpolateWith(mapAlphaMultiply,mapAlphaDivide),mod=(e,t)=>(e+t)%t,bspline=(e,t,a,o,r)=>{let n=r*r,l=n*r;return((1-3*r+3*n-l)*e+(4-6*n+3*l)*t+(1+3*r+3*n-3*l)*a+l*o)/6},interpolatorSplineBasis=e=>t=>{let a=e.length-1,o=t>=1?a-1:Math.max(0,Math.floor(t*a));return bspline(o>0?e[o-1]:2*e[o]-e[o+1],e[o],e[o+1],o<a-1?e[o+2]:2*e[o+1]-e[o],(t-o/a)*a)},interpolatorSplineBasisClosed=e=>t=>{const a=e.length-1,o=Math.floor(t*a);return bspline(e[mod(o-1,e.length)],e[mod(o,e.length)],e[mod(o+1,e.length)],e[mod(o+2,e.length)],(t-o/a)*a)},solve=e=>{let t,a=e.length-1,o=new Array(a),r=new Array(a),n=new Array(a);for(o[1]=1/4,r[1]=(6*e[1]-e[0])/4,t=2;t<a;++t)o[t]=1/(4-o[t-1]),r[t]=(6*e[t]-(t==a-1?e[a]:0)-r[t-1])*o[t];for(n[0]=e[0],n[a]=e[a],a-1>0&&(n[a-1]=r[a-1]),t=a-2;t>0;--t)n[t]=r[t]-o[t]*n[t+1];return n},interpolatorSplineNatural=e=>interpolatorSplineBasis(solve(e)),interpolatorSplineNaturalClosed=e=>interpolatorSplineBasisClosed(solve(e)),sgn=Math.sign,min=Math.min,abs2=Math.abs,mono=e=>{let t=e.length-1,a=[],o=[],r=[];for(let n=0;n<t;n++)a.push((e[n+1]-e[n])*t),o.push(n>0?.5*(e[n+1]-e[n-1])*t:void 0),r.push(n>0?(sgn(a[n-1])+sgn(a[n]))*min(abs2(a[n-1]),abs2(a[n]),.5*abs2(o[n])):void 0);return[a,o,r]},interpolator=(e,t,a)=>{let o=e.length-1,r=o*o;return n=>{let l;l=n>=1?o-1:Math.max(0,Math.floor(n*o));let i=n-l/o,u=i*i,d=u*i;return(t[l]+t[l+1]-2*a[l])*r*d+(3*a[l]-2*t[l]-t[l+1])*o*u+t[l]*i+e[l]}},interpolatorSplineMonotone=e=>{if(e.length<3)return interpolatorLinear(e);let t=e.length-1,[a,,o]=mono(e);return o[0]=a[0],o[t]=a[t-1],interpolator(e,o,a)},interpolatorSplineMonotone2=e=>{if(e.length<3)return interpolatorLinear(e);let t=e.length-1,[a,o,r]=mono(e);return o[0]=(2*e[1]-1.5*e[0]-.5*e[2])*t,o[t]=(1.5*e[t]-2*e[t-1]+.5*e[t-2])*t,r[0]=o[0]*a[0]<=0?0:abs2(o[0])>2*abs2(a[0])?2*a[0]:o[0],r[t]=o[t]*a[t-1]<=0?0:abs2(o[t])>2*abs2(a[t-1])?2*a[t-1]:o[t],interpolator(e,r,a)},interpolatorSplineMonotoneClosed=e=>{let t=e.length-1,[a,o,r]=mono(e);o[0]=.5*(e[1]-e[t])*t,o[t]=.5*(e[0]-e[t-1])*t;let n=(e[0]-e[t])*t,l=n;return r[0]=(sgn(n)+sgn(a[0]))*min(abs2(n),abs2(a[0]),.5*abs2(o[0])),r[t]=(sgn(a[t-1])+sgn(l))*min(abs2(a[t-1]),abs2(l),.5*abs2(o[t])),interpolator(e,r,a)},gamma4=(e=1)=>1===e?e=>e:t=>Math.pow(t,e),gamma_default=gamma4,samples=(e=2,t=1)=>{let a=gamma_default(t);if(e<2)return e<1?[]:[a(.5)];let o=[];for(let r=0;r<e;r++)o.push(a(r/(e-1)));return o},samples_default=samples,rgb=converter_default("rgb"),fixup_rgb=e=>{const t={mode:e.mode,r:Math.max(0,Math.min(e.r,1)),g:Math.max(0,Math.min(e.g,1)),b:Math.max(0,Math.min(e.b,1))};return void 0!==e.alpha&&(t.alpha=e.alpha),t},to_displayable_srgb=e=>fixup_rgb(rgb(e)),inrange_rgb=e=>void 0!==e&&e.r>=0&&e.r<=1&&e.g>=0&&e.g<=1&&e.b>=0&&e.b<=1;function displayable(e){return inrange_rgb(rgb(e))}function inGamut(e="rgb"){const{gamut:t}=getMode(e);if(!t)return e=>!0;const a=converter_default("string"===typeof t?t:e);return e=>inrange_rgb(a(e))}function clampRgb(e){if(void 0===(e=prepare_default(e))||displayable(e))return e;return converter_default(e.mode)(to_displayable_srgb(e))}function clampGamut(e="rgb"){const{gamut:t}=getMode(e);if(!t)return e=>prepare_default(e);const a="string"===typeof t?t:e,o=converter_default(a),r=inGamut(a);return e=>{const t=prepare_default(e);if(!t)return;const a=o(t);if(r(a))return t;const n=fixup_rgb(a);return t.mode===n.mode?n:converter_default(t.mode)(n)}}function clampChroma(e,t="lch",a="rgb"){e=prepare_default(e);let o="rgb"===a?displayable:inGamut(a),r="rgb"===a?to_displayable_srgb:clampGamut(a);if(void 0===e||o(e))return e;let n=converter_default(e.mode);e=converter_default(t)(e);let l={...e,c:0};if(!o(l))return n(r(l));let i,u=0,d=e.c,f=getMode(t).ranges.c,c=(f[1]-f[0])/Math.pow(2,13);for(;d-u>c;)l.c=u+.5*(d-u),o(l)?(i=l.c,u=l.c):d=l.c;return n(o(l)?l:{...l,c:i})}function toGamut(e="rgb",t="oklch",a=differenceEuclidean("oklch"),o=.02){const r=converter_default(e);if(!getMode(e).gamut)return e=>r(e);const n=inGamut(e),l=clampGamut(e),i=converter_default(t),{ranges:u}=getMode(t),d=r("white"),f=r("black");return e=>{if(void 0===(e=prepare_default(e)))return;const t={...i(e)};if(t.l>=u.l[1]){const t={...d};return void 0!==e.alpha&&(t.alpha=e.alpha),t}if(t.l<=u.l[0]){const t={...f};return void 0!==e.alpha&&(t.alpha=e.alpha),t}if(n(t))return r(t);let c=0,h=t.c,p=(u.c[1]-u.c[0])/4e3,b=l(t);for(;h-c>p;)t.c=.5*(c+h),b=l(t),n(t)||a&&o>0&&a(t,b)<=o?c=t.c:h=t.c;return r(n(t)?t:b)}}var nearest=(e,t=differenceEuclidean(),a=(e=>e))=>{let o=e.map(((e,t)=>({color:a(e),i:t})));return(a,r=1,n=1/0)=>(isFinite(r)&&(r=Math.max(1,Math.min(r,o.length-1))),o.forEach((e=>{e.d=t(a,e.color)})),o.sort(((e,t)=>e.d-t.d)).slice(0,r).filter((e=>e.d<n)).map((t=>e[t.i])))},nearest_default=nearest,minzero=e=>Math.max(e,0),clamp2=e=>Math.max(Math.min(e,1),0),lerp2=(e,t,a)=>void 0===e||void 0===t?void 0:e+a*(t-e),matrixSepia=e=>{let t=1-clamp2(e);return[.393+.607*t,.769-.769*t,.189-.189*t,0,.349-.349*t,.686+.314*t,.168-.168*t,0,.272-.272*t,.534-.534*t,.131+.869*t,0,0,0,0,1]},matrixSaturate=e=>{let t=minzero(e);return[.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1]},matrixGrayscale=e=>{let t=1-clamp2(e);return[.2126+.7874*t,.7152-.7152*t,.0722-.0722*t,0,.2126-.2126*t,.7152+.2848*t,.0722-.0722*t,0,.2126-.2126*t,.7152-.7152*t,.0722+.9278*t,0,0,0,0,1]},matrixHueRotate=e=>{let t=Math.PI*e/180,a=Math.cos(t),o=Math.sin(t);return[.213+.787*a-.213*o,.715-.715*a-.715*o,.072-.072*a+.928*o,0,.213-.213*a+.143*o,.715+.285*a+.14*o,.072-.072*a-.283*o,0,.213-.213*a-.787*o,.715-.715*a+.715*o,.072+.928*a+.072*o,0,0,0,0,1]},matrix=(e,t,a=!1)=>{let o=converter_default(t),r=getMode(t).channels;return n=>{let l=o(n);if(!l)return;let i,u={mode:t},d=r.length;for(let t=0;t<e.length;t++)i=r[Math.floor(t/d)],void 0!==l[i]&&(u[i]=(u[i]||0)+e[t]*(l[r[t%d]]||0));if(!a)return u;let f=prepare_default(n);return f&&u.mode!==f.mode?converter_default(f.mode)(u):u}},filterBrightness=(e=1,t="rgb")=>{let a=minzero(e);return mapper(mapTransferLinear(a),t,!0)},filterContrast=(e=1,t="rgb")=>{let a=minzero(e);return mapper(mapTransferLinear(a,(1-a)/2),t,!0)},filterSepia=(e=1,t="rgb")=>matrix(matrixSepia(e),t,!0),filterSaturate=(e=1,t="rgb")=>matrix(matrixSaturate(e),t,!0),filterGrayscale=(e=1,t="rgb")=>matrix(matrixGrayscale(e),t,!0),filterInvert=(e=1,t="rgb")=>{let a=clamp2(e);return mapper(((e,t)=>"alpha"===t?e:lerp2(a,1-a,e)),t,!0)},filterHueRotate=(e=0,t="rgb")=>matrix(matrixHueRotate(e),t,!0),rgb2=converter_default("rgb"),PROT=[[1,0,-0,0,1,0,-0,-0,1],[.856167,.182038,-.038205,.029342,.955115,.015544,-.00288,-.001563,1.004443],[.734766,.334872,-.069637,.05184,.919198,.028963,-.004928,-.004209,1.009137],[.630323,.465641,-.095964,.069181,.890046,.040773,-.006308,-.007724,1.014032],[.539009,.579343,-.118352,.082546,.866121,.051332,-.007136,-.011959,1.019095],[.458064,.679578,-.137642,.092785,.846313,.060902,-.007494,-.016807,1.024301],[.38545,.769005,-.154455,.100526,.829802,.069673,-.007442,-.02219,1.029632],[.319627,.849633,-.169261,.106241,.815969,.07779,-.007025,-.028051,1.035076],[.259411,.923008,-.18242,.110296,.80434,.085364,-.006276,-.034346,1.040622],[.203876,.990338,-.194214,.112975,.794542,.092483,-.005222,-.041043,1.046265],[.152286,1.052583,-.204868,.114503,.786281,.099216,-.003882,-.048116,1.051998]],DEUTER=[[1,0,-0,0,1,0,-0,-0,1],[.866435,.177704,-.044139,.049567,.939063,.01137,-.003453,.007233,.99622],[.760729,.319078,-.079807,.090568,.889315,.020117,-.006027,.013325,.992702],[.675425,.43385,-.109275,.125303,.847755,.026942,-.00795,.018572,.989378],[.605511,.52856,-.134071,.155318,.812366,.032316,-.009376,.023176,.9862],[.547494,.607765,-.155259,.181692,.781742,.036566,-.01041,.027275,.983136],[.498864,.674741,-.173604,.205199,.754872,.039929,-.011131,.030969,.980162],[.457771,.731899,-.18967,.226409,.731012,.042579,-.011595,.034333,.977261],[.422823,.781057,-.203881,.245752,.709602,.044646,-.011843,.037423,.974421],[.392952,.82361,-.216562,.263559,.69021,.046232,-.01191,.040281,.97163],[.367322,.860646,-.227968,.280085,.672501,.047413,-.01182,.04294,.968881]],TRIT=[[1,0,-0,0,1,0,-0,-0,1],[.92667,.092514,-.019184,.021191,.964503,.014306,.008437,.054813,.93675],[.89572,.13333,-.02905,.029997,.9454,.024603,.013027,.104707,.882266],[.905871,.127791,-.033662,.026856,.941251,.031893,.01341,.148296,.838294],[.948035,.08949,-.037526,.014364,.946792,.038844,.010853,.193991,.795156],[1.017277,.027029,-.044306,-.006113,.958479,.047634,.006379,.248708,.744913],[1.104996,-.046633,-.058363,-.032137,.971635,.060503,.001336,.317922,.680742],[1.193214,-.109812,-.083402,-.058496,.97941,.079086,-.002346,.403492,.598854],[1.257728,-.139648,-.118081,-.078003,.975409,.102594,-.003316,.501214,.502102],[1.278864,-.125333,-.153531,-.084748,.957674,.127074,-989e-6,.601151,.399838],[1.255528,-.076749,-.178779,-.078411,.930809,.147602,.004733,.691367,.3039]],deficiency=(e,t)=>{let a=Math.max(0,Math.min(1,t)),o=Math.round(a/.1),r=Math.round(a%.1),n=e[o];if(r>0&&o<e.length-1){let t=e[o+1];n=n.map(((e,a)=>lerp(n[a],t[a],r)))}return e=>{let t=prepare_default(e);if(void 0===t)return;let{r:a,g:o,b:r}=rgb2(t),l={mode:"rgb",r:n[0]*a+n[1]*o+n[2]*r,g:n[3]*a+n[4]*o+n[5]*r,b:n[6]*a+n[7]*o+n[8]*r};return void 0!==t.alpha&&(l.alpha=t.alpha),converter_default(t.mode)(l)}},filterDeficiencyProt=(e=1)=>deficiency(PROT,e),filterDeficiencyDeuter=(e=1)=>deficiency(DEUTER,e),filterDeficiencyTrit=(e=1)=>deficiency(TRIT,e),easingSmoothstep=e=>e*e*(3-2*e),easingSmoothstepInverse=e=>.5-Math.sin(Math.asin(1-2*e)/3),smootherstep=e=>e*e*e*(e*(6*e-15)+10),smootherstep_default=smootherstep,inOutSine=e=>(1-Math.cos(e*Math.PI))/2,inOutSine_default=inOutSine;function luminance(e){let t=converter_default("lrgb")(e);return.2126*t.r+.7152*t.g+.0722*t.b}function contrast(e,t){let a=luminance(e),o=luminance(t);return(Math.max(a,o)+.05)/(Math.min(a,o)+.05)}var a98=useMode(definition_default2),cubehelix=useMode(definition_default3),dlab=useMode(definition_default4),dlch=useMode(definition_default5),hsi=useMode(definition_default6),hsl=useMode(definition_default7),hsv=useMode(definition_default8),hwb=useMode(definition_default9),jab=useMode(definition_default10),jch=useMode(definition_default11),lab=useMode(definition_default12),lab65=useMode(definition_default13),lch=useMode(definition_default14),lch65=useMode(definition_default15),lchuv=useMode(definition_default16),lrgb=useMode(definition_default17),luv=useMode(definition_default18),okhsl=useMode(modeOkhsl_default),okhsv=useMode(modeOkhsv_default),oklab=useMode(definition_default19),oklch=useMode(definition_default20),p3=useMode(definition_default21),prophoto=useMode(definition_default22),rec2020=useMode(definition_default23),rgb3=useMode(definition_default),xyb=useMode(definition_default24),xyz50=useMode(definition_default25),xyz65=useMode(definition_default26),yiq=useMode(definition_default27);